import{d as U,c as Y,b as F}from"./components-49559557.js";import{k as B,j as Z}from"./elements-4c784a6a.js";import{p as E}from"./shared-99660556.js";import{d as G,a as $,w as J,x as K,y as W,v as X,Z as z,_ as A,f as P,h as R,O as ee,P as m,Q as n,aL as te,aM as se,N as oe,ac as ae,aB as ne,q as o,S as r,ap as e,F as le,aC as y,M as v,al as ce,am as re}from"./vue-router.esm-bundler-c0c92185.js";import{S as ue}from"./index-d5518024.js";import{B as N}from"./index-3cb71702.js";import{R as ie}from"./index-5ad160c9.js";import{d as me}from"./index-59604d2c.js";import{u as de,c as pe,a as V,_ as fe,b as _e}from"./index-cc42749a.js";import"./index-b6a96f47.js";import"./index-c792e968.js";import"./zIndex-90dc747d.js";import"./index-67de6f11.js";import"./lock-5d7839e9.js";import"./index-e0ccf07b.js";/* empty css               */const Se={time:{type:[String,Number],default:0},format:{type:String,default:"HH : mm : ss"},autoStart:{type:Boolean,default:!0},onEnd:U(),onChange:U()},{n:he}=Y("countdown"),T=1e3,b=60*T,D=60*b,I=24*D,we=G({name:"VarCountdown",props:Se,setup(s){const C=$(""),h=$({days:0,hours:0,minutes:0,seconds:0,milliseconds:0});let d=0,l=!1,p=0,a=0,c;const j=(t,g)=>{const u=Object.values(g),w=["DD","HH","mm","ss"],M=[24,60,60,1e3];if(w.forEach((f,S)=>{t.includes(f)?t=t.replace(f,E(`${u[S]}`,2,"0")):u[S+1]+=u[S]*M[S]}),t.includes("S")){const f=E(`${u[u.length-1]}`,3,"0");t.includes("SSS")?t=t.replace("SSS",f):t.includes("SS")?t=t.replace("SS",f.slice(0,2)):t=t.replace("S",f.slice(0,1))}return t},q=t=>{const g=Math.floor(t/I),u=Math.floor(t%I/D),w=Math.floor(t%D/b),M=Math.floor(t%b/T),f=Math.floor(t%T),S={days:g,hours:u,minutes:w,seconds:M,milliseconds:f};h.value=S,F(s.onChange,h.value),C.value=j(s.format,S)},x=()=>{const{time:t,onEnd:g,autoStart:u}=s,w=performance.now();if(d||(d=w+z(t)),a=d-w,a<0&&(a=0),q(a),a===0){F(g);return}(u||l)&&(p=Z(x))},Q=()=>{l=!0,d=performance.now()+(a||z(s.time)),x()},k=()=>{l=!1,B(p)},H=()=>{d=0,l=!1,B(p),x()};return J(()=>s.time,H,{immediate:!0}),K(()=>{c!=null&&(l=c,l===!0&&x())}),W(()=>{c=l,k()}),X(k),{showTime:C,timeData:h,n:he,start:Q,pause:k,reset:H}}});function Ce(s,C,h,d,l,p){return P(),R("div",{class:oe(s.n())},[ee(s.$slots,"default",te(se(s.timeData)),()=>[m(n(s.showTime),1)])],2)}const _=A(we,[["render",Ce]]);_.install=function(s){s.component(_.name,_)};const ge={basicUsage:"基本使用",customFormat:"自定义格式",showMillisecond:"显示毫秒",customStyle:"自定义样式",manualControl:"手动控制",format:"DD 天 HH 时 mm 分 ss 秒",startText:"开始",pauseText:"暂停",resetText:"重置"},ye={basicUsage:"Basic Usage",customFormat:"Custom Format",showMillisecond:"Show Millisecond",customStyle:"Custom Style",manualControl:"Manual Control",format:"DD Day, HH:mm:ss",startText:"Start",pauseText:"Pause",resetText:"Reset"},{add:L,use:ve,pack:i,packs:Qe,merge:Ye}=de(),xe=s=>{pe(s),ve(s)};V("zh-CN",fe);V("en-US",_e);L("zh-CN",ge);L("en-US",ye);const O=s=>(ce("data-v-41a60976"),s=s(),re(),s),$e={class:"countdown-example-block"},ke=O(()=>v("span",{class:"countdown-example-colon"},":",-1)),Me={class:"countdown-example-block"},Ne=O(()=>v("span",{class:"countdown-example-colon"},":",-1)),Te={class:"countdown-example-block"},be={setup(s){const C=$(null),h=$(3e3);function d(){ue.info("end!")}function l(){console.log("change")}return ae(xe),ne(me),(p,a)=>(P(),R(le,null,[o(e(y),null,{default:r(()=>[m(n(e(i).basicUsage),1)]),_:1}),o(e(_),{time:"108000000"}),o(e(y),null,{default:r(()=>[m(n(e(i).customFormat),1)]),_:1}),o(e(_),{time:"108000000",format:e(i).format},null,8,["format"]),o(e(y),null,{default:r(()=>[m(n(e(i).showMillisecond),1)]),_:1}),o(e(_),{time:"108000000",format:"HH : mm : ss : SS"}),o(e(y),null,{default:r(()=>[m(n(e(i).customStyle),1)]),_:1}),o(e(_),{time:"108000000"},{default:r(c=>[v("span",$e,n(c.hours),1),ke,v("span",Me,n(c.minutes),1),Ne,v("span",Te,n(c.seconds),1)]),_:1}),o(e(y),null,{default:r(()=>[m(n(e(i).manualControl),1)]),_:1}),o(e(_),{time:h.value,ref_key:"countdown",ref:C,"auto-start":!1,format:"ss : SSS",onEnd:d,onChange:l},null,8,["time"]),o(e(ie),{justify:"space-between",align:"center",style:{"margin-top":"10px"}},{default:r(()=>[o(e(N),{type:"primary",onClick:a[0]||(a[0]=c=>p.$refs.countdown.start())},{default:r(()=>[m(n(e(i).startText),1)]),_:1}),o(e(N),{onClick:a[1]||(a[1]=c=>p.$refs.countdown.pause())},{default:r(()=>[m(n(e(i).pauseText),1)]),_:1}),o(e(N),{onClick:a[2]||(a[2]=c=>p.$refs.countdown.reset())},{default:r(()=>[m(n(e(i).resetText),1)]),_:1})]),_:1})],64))}},Ze=A(be,[["__scopeId","data-v-41a60976"]]);export{Ze as default};
