import{I as w}from"./index-122c3176.js";import{d as C,g as E,j as T,c as N,a as k}from"./logger-d47ce557.js";import{d as I,a as S,b as F,aJ as y,w as P,_ as j,p as L,f as n,h as i,M as s,N as l,O as v,R as o,Q as $,j as u,i as B,F as W,T as q}from"./vue-router-d6817537.js";import{g as J}from"./elements-16ad11e3.js";function O(e){return["small","normal"].includes(e)}function Q(e){return["outlined","standard"].includes(e)}const R={value:{type:null,required:!0},id:{type:String,default:""},isFocus:{type:Boolean},size:{type:String,default:"normal",validator:O},variant:{type:String,default:"standard",validator:Q},placeholder:{type:String},line:{type:Boolean,default:!0},hint:{type:Boolean,default:!0},textColor:{type:String},focusColor:{type:String},blurColor:{type:String},errorMessage:{type:String},formDisabled:{type:Boolean},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},cursor:{type:String},composing:{type:Boolean,default:!1},onClick:C(),onClear:C()},{n:g,classes:A}=N("field-decorator"),G=I({name:"VarFieldDecorator",components:{VarIcon:w},props:R,setup(e,{slots:d}){const f=S(null),t=S(""),b=F(()=>e.errorMessage?void 0:e.isFocus?e.focusColor:e.blurColor),p=F(()=>e.hint&&(!y(e.value)||e.isFocus||d["prepend-icon"])),c=()=>{const{hint:a,value:m,composing:h}=e;if(!a&&(!y(m)||h))return g("--placeholder-hidden");if(p.value)return g("--placeholder-hint")},r=()=>{const{size:a,hint:m,variant:h}=e;if(!m||h!=="outlined"){t.value="";return}const D=J(f.value),V=`var(--field-decorator-outlined-${a}-placeholder-space)`;t.value=`calc(${D.width} * 0.75 + ${V} * 2)`},M=a=>{k(e.onClear,a)},z=a=>{k(e.onClick,a)};return E(r),P(()=>[e.size,e.hint,e.variant],r),T(()=>window,"resize",r),{placeholderTextEl:f,color:b,legendWidth:t,isFloating:p,computePlaceholderState:c,n:g,classes:A,isEmpty:y,handleClear:M,handleClick:z}}});const H=["for"];function K(e,d,f,t,b,p){const c=L("var-icon");return n(),i("div",{class:l(e.classes(e.n(),e.n("$--box"),e.n(`--${e.variant}`),[e.size==="small",e.n("--small")],[e.disabled,e.n("--disabled")])),onClick:d[0]||(d[0]=(...r)=>e.handleClick&&e.handleClick(...r))},[s("div",{class:l(e.classes(e.n("controller"),[e.isFocus,e.n("--focus")],[e.errorMessage,e.n("--error")],[e.formDisabled||e.disabled,e.n("--disabled")])),style:o({color:e.color,cursor:e.cursor,overflow:e.isFloating?"visible":"hidden"})},[s("div",{class:l(e.classes(e.n("icon"),[!e.hint,e.n("--icon-non-hint")]))},[v(e.$slots,"prepend-icon")],2),s("div",{class:l(e.classes(e.n("middle"),[!e.hint,e.n("--middle-non-hint")]))},[v(e.$slots,"default")],2),e.hint?(n(),i("label",{key:0,class:l(e.classes(e.n("placeholder"),e.n("$--ellipsis"),[e.isFocus,e.n("--focus")],[e.formDisabled||e.disabled,e.n("--disabled")],[e.errorMessage,e.n("--error")],e.computePlaceholderState())),style:o({color:e.color}),for:e.id},[s("span",null,$(e.placeholder),1)],14,H)):u("",!0),s("div",{class:l(e.classes(e.n("icon"),[!e.hint,e.n("--icon-non-hint")]))},[e.clearable&&!e.isEmpty(e.value)?(n(),B(c,{key:0,class:l(e.n("clear-icon")),"var-field-decorator-cover":"",name:"close-circle",onClick:e.handleClear},null,8,["class","onClick"])):u("",!0),v(e.$slots,"append-icon")],2)],6),e.line?(n(),i(W,{key:0},[e.variant==="outlined"?(n(),i("fieldset",{key:0,class:l(e.classes(e.n("line"),[e.isFocus,e.n("--line-focus")],[e.errorMessage,e.n("--line-error")],[e.formDisabled||e.disabled,e.n("--line-disabled")])),style:o({borderColor:e.color})},[s("legend",{class:l(e.classes(e.n("line-legend"),[e.isFloating,e.n("line-legend--hint")])),style:o({width:e.legendWidth})},[e.hint?(n(),B(q,{key:0,to:"body"},[s("span",{ref:"placeholderTextEl",class:l(e.classes(e.n("placeholder-text"),e.n("$--ellipsis"),[e.size==="small",e.n("placeholder-text--small")]))},$(e.placeholder),3)])):u("",!0)],6)],6)):(n(),i("div",{key:1,class:l(e.classes(e.n("line"),[e.formDisabled||e.disabled,e.n("--line-disabled")],[e.errorMessage,e.n("--line-error")])),style:o({background:e.errorMessage?void 0:e.blurColor})},[s("div",{class:l(e.classes(e.n("dot"),[e.isFocus,e.n("--line-focus")],[e.formDisabled||e.disabled,e.n("--line-disabled")],[e.errorMessage,e.n("--line-error")])),style:o({background:e.errorMessage?void 0:e.focusColor})},null,6)],6))],64)):u("",!0)],2)}const _=j(G,[["render",K]]);export{_ as V,R as p};
