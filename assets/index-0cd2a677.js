import{v as k}from"./index-584bc5eb.js";import{v}from"./index-f953e11a.js";import{d as s,c as L,a as i}from"./logger-d47ce557.js";import{a as C}from"./elements-16ad11e3.js";import{d as b,a as w,w as E,_ as c,ag as z,D as S,f as d,h as y,N as p,R as f,j as u,O as $}from"./vue-router-d6817537.js";function N(e){return["fill","contain","cover","none","scale-down"].includes(e)}const B={src:{type:String},fit:{type:String,validator:N,default:"fill"},alt:{type:String},title:{type:String},width:{type:[String,Number]},height:{type:[String,Number]},radius:{type:[String,Number],default:0},loading:{type:String},error:{type:String},lazy:{type:Boolean,default:!1},ripple:{type:Boolean,default:!1},block:{type:Boolean,default:!0},onClick:s(),onLoad:s(),onError:s()},{n:I,classes:R}=L("image"),U=b({name:"VarImage",directives:{Lazy:v,Ripple:k},props:B,setup(e,{slots:r}){const a=w(!1),t=l=>{a.value=!!r.error,i(e.onError,l)},g=l=>{const n=l.currentTarget;if(e.lazy){if(n._lazy.state==="success"){i(e.onLoad,l);return}n._lazy.state==="error"&&t(l)}else i(e.onLoad,l)},h=l=>{i(e.onClick,l)};return E(()=>e.src,()=>{a.value=!1}),{n:I,classes:R,showErrorSlot:a,toSizeUnit:C,handleLoad:g,handleError:t,handleClick:h}}});const j=["alt","title","lazy-loading","lazy-error"],D=["alt","title","src"];function V(e,r,a,t,g,h){const l=z("lazy"),n=z("ripple");return S((d(),y("div",{class:p(e.classes(e.n(),e.n("$--box"),[!e.block,e.n("$--inline-block")])),style:f({width:e.toSizeUnit(e.width),height:e.toSizeUnit(e.height),borderRadius:e.toSizeUnit(e.radius)})},[e.lazy&&!e.showErrorSlot?S((d(),y("img",{key:0,class:p(e.n("image")),alt:e.alt,title:e.title,"lazy-loading":e.loading,"lazy-error":e.error,style:f({objectFit:e.fit}),onLoad:r[0]||(r[0]=(...o)=>e.handleLoad&&e.handleLoad(...o)),onClick:r[1]||(r[1]=(...o)=>e.handleClick&&e.handleClick(...o))},null,46,j)),[[l,e.src]]):u("",!0),!e.lazy&&!e.showErrorSlot?(d(),y("img",{key:1,class:p(e.n("image")),alt:e.alt,title:e.title,style:f({objectFit:e.fit}),src:e.src,onLoad:r[2]||(r[2]=(...o)=>e.handleLoad&&e.handleLoad(...o)),onError:r[3]||(r[3]=(...o)=>e.handleError&&e.handleError(...o)),onClick:r[4]||(r[4]=(...o)=>e.handleClick&&e.handleClick(...o))},null,46,D)):u("",!0),e.showErrorSlot?$(e.$slots,"error",{key:2}):u("",!0)],6)),[[n,{disabled:!e.ripple}]])}const m=c(U,[["render",V]]);m.install=function(e){e.component(m.name,m)};export{m as I};
