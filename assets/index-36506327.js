import{d as b,av as g,F as k,B,p as l,as as I,au as P,O as c,Y as d,T as f,aq as x}from"./index-a8f47372.js";import{d as n,u as A,e as T,c as $,a as s,w as j}from"./components-57431222.js";import{u as z}from"./lock-009a27af.js";import{u as L}from"./zIndex-c03ab51e.js";import{u as N}from"./provide-88475822.js";/* empty css               */const R={show:Boolean,position:{type:String,default:"center"},transition:String,overlay:{type:Boolean,default:!0},overlayClass:String,overlayStyle:Object,lockScroll:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0},defaultStyle:{type:Boolean,default:!0},safeArea:Boolean,safeAreaTop:Boolean,teleport:{type:[String,Object,Boolean],default:"body"},onOpen:n(),onOpened:n(),onClose:n(),onClosed:n(),onClickOverlay:n(),"onUpdate:show":n(),onRouteChange:n()};function y(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!P(e)}const{name:_,n:o,classes:u}=$("popup"),U=b({name:_,inheritAttrs:!1,props:R,setup(e,{slots:v,attrs:m}){const h=g(()=>e.show,!0),{zIndex:r}=L(()=>e.show,3),{disabled:w}=A(),{bindPopupItems:O}=N();z(()=>e.show,()=>e.lockScroll),k(()=>e.show,t=>{t?s(e.onOpen):s(e.onClose)}),O({show:B(()=>e.show)}),T(()=>s(e.onRouteChange));function C(){const{closeOnClickOverlay:t,onClickOverlay:a}=e;s(a),t&&s(e["onUpdate:show"],!1)}function S(){const{overlayClass:t="",overlayStyle:a}=e;return l("div",{class:u(o("overlay"),t),style:{zIndex:r.value-1,...a},onClick:C},null)}function p(){return c(l("div",x({class:u(o("content"),o(`--${e.position}`),[e.defaultStyle,o("--content-background-color")],[e.defaultStyle,o("$-elevation--3")],[e.safeArea,o("--safe-area")],[e.safeAreaTop,o("--safe-area-top")]),style:{zIndex:r.value}},m),[h.value&&s(v.default)]),[[d,e.show]])}function i(){let t;return l(f,{name:o("$-fade"),onAfterEnter:e.onOpened,onAfterLeave:e.onClosed},{default:()=>[c(l("div",{class:u(o("$--box"),o()),style:{zIndex:r.value-2}},[e.overlay&&S(),l(f,{name:e.transition||o(`$-pop-${e.position}`)},y(t=p())?t:{default:()=>[t]})]),[[d,e.show]])]})}return()=>{const{teleport:t}=e;if(t){let a;return l(I,{to:t,disabled:w.value},y(a=i())?a:{default:()=>[a]})}return i()}}});j(U);export{U as P,R as p};
