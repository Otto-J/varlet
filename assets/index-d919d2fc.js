import{d as F,c as Q,b as B}from"./components-49559557.js";import{k as E,j as Y}from"./elements-4c784a6a.js";import{p as z}from"./shared-99660556.js";import{d as Z,a as _,w as G,x as J,y as K,v as W,Z as A,_ as P,f as R,h as V,O as X,P as i,Q as o,aL as ee,aM as te,N as se,ac as ae,aB as oe,q as a,S as l,ap as e,F as ne,aC as x,M as $,al as le,am as ce}from"./vue-router.esm-bundler-c0c92185.js";import{S as re}from"./index-d5518024.js";import{B as M}from"./index-3cb71702.js";import{R as ue}from"./index-5ad160c9.js";import{d as ie}from"./index-59604d2c.js";import{u as me,c as de,a as L,_ as pe,b as fe}from"./index-cc42749a.js";import"./index-b6a96f47.js";import"./index-c792e968.js";import"./zIndex-90dc747d.js";import"./index-67de6f11.js";import"./lock-5d7839e9.js";import"./index-e0ccf07b.js";/* empty css               */const _e={time:{type:[String,Number],default:0},format:{type:String,default:"HH : mm : ss"},autoStart:{type:Boolean,default:!0},onEnd:F(),onChange:F()},{n:Se}=Q("countdown"),N=1e3,b=60*N,D=60*b,I=24*D,he=Z({name:"VarCountdown",props:_e,setup(s){const m=_(0),d=_(!1),y=_(""),w=_(0),h=_(0),n=_({days:0,hours:0,minutes:0,seconds:0,milliseconds:0}),p=(t,g)=>{const c=Object.values(g),C=["DD","HH","mm","ss"],r=[24,60,60,1e3];if(C.forEach((f,v)=>{t.includes(f)?t=t.replace(f,z(`${c[v]}`,2,"0")):c[v+1]+=c[v]*r[v]}),t.includes("S")){const f=z(`${c[c.length-1]}`,3,"0");t.includes("SSS")?t=t.replace("SSS",f):t.includes("SS")?t=t.replace("SS",f.slice(0,2)):t=t.replace("S",f.slice(0,1))}return t},q=t=>{const g=Math.floor(t/I),c=Math.floor(t%I/D),C=Math.floor(t%D/b),r=Math.floor(t%b/N),f=Math.floor(t%N),v={days:g,hours:c,minutes:C,seconds:r,milliseconds:f};n.value=v,B(s.onChange,n.value),y.value=p(s.format,v)},k=()=>{const{time:t,onEnd:g,autoStart:c}=s,C=performance.now();m.value||(m.value=C+A(t));let r=m.value-C;if(r<0&&(r=0),h.value=r,q(r),r===0){B(g);return}(c||d.value)&&(w.value=Y(k))},H=()=>{d.value||(d.value=!0,m.value=performance.now()+(h.value||A(s.time)),k())},T=()=>{d.value=!1,E(w.value)},U=()=>{m.value=0,d.value=!1,E(w.value),k()};return G(()=>s.time,U,{immediate:!0}),J(H),K(T),W(T),{showTime:y,timeData:n,n:Se,start:H,pause:T,reset:U}}});function ve(s,m,d,y,w,h){return R(),V("div",{class:se(s.n())},[X(s.$slots,"default",ee(te(s.timeData)),()=>[i(o(s.showTime),1)])],2)}const S=P(he,[["render",ve]]);S.install=function(s){s.component(S.name,S)};const we={basicUsage:"基本使用",customFormat:"自定义格式",showMillisecond:"显示毫秒",customStyle:"自定义样式",manualControl:"手动控制",format:"DD 天 HH 时 mm 分 ss 秒",startText:"开始",pauseText:"暂停",resetText:"重置"},Ce={basicUsage:"Basic Usage",customFormat:"Custom Format",showMillisecond:"Show Millisecond",customStyle:"Custom Style",manualControl:"Manual Control",format:"DD Day, HH:mm:ss",startText:"Start",pauseText:"Pause",resetText:"Reset"},{add:O,use:ye,pack:u,packs:qe,merge:Qe}=me(),ge=s=>{de(s),ye(s)};L("zh-CN",pe);L("en-US",fe);O("zh-CN",we);O("en-US",Ce);const j=s=>(le("data-v-41a60976"),s=s(),ce(),s),xe={class:"countdown-example-block"},$e=j(()=>$("span",{class:"countdown-example-colon"},":",-1)),ke={class:"countdown-example-block"},Te=j(()=>$("span",{class:"countdown-example-colon"},":",-1)),Me={class:"countdown-example-block"},Ne={setup(s){const m=_(null),d=_(3e3);function y(){re.info("end!")}function w(){console.log("change")}return ae(ge),oe(ie),(h,n)=>(R(),V(ne,null,[a(e(x),null,{default:l(()=>[i(o(e(u).basicUsage),1)]),_:1}),a(e(S),{time:"108000000"}),a(e(x),null,{default:l(()=>[i(o(e(u).customFormat),1)]),_:1}),a(e(S),{time:"108000000",format:e(u).format},null,8,["format"]),a(e(x),null,{default:l(()=>[i(o(e(u).showMillisecond),1)]),_:1}),a(e(S),{time:"108000000",format:"HH : mm : ss : SS"}),a(e(x),null,{default:l(()=>[i(o(e(u).customStyle),1)]),_:1}),a(e(S),{time:"108000000"},{default:l(p=>[$("span",xe,o(p.hours),1),$e,$("span",ke,o(p.minutes),1),Te,$("span",Me,o(p.seconds),1)]),_:1}),a(e(x),null,{default:l(()=>[i(o(e(u).manualControl),1)]),_:1}),a(e(S),{time:d.value,ref_key:"countdown",ref:m,"auto-start":!1,format:"ss : SSS",onEnd:y,onChange:w},null,8,["time"]),a(e(ue),{justify:"space-between",align:"center",style:{"margin-top":"10px"}},{default:l(()=>[a(e(M),{type:"primary",onClick:n[0]||(n[0]=p=>h.$refs.countdown.start())},{default:l(()=>[i(o(e(u).startText),1)]),_:1}),a(e(M),{onClick:n[1]||(n[1]=p=>h.$refs.countdown.pause())},{default:l(()=>[i(o(e(u).pauseText),1)]),_:1}),a(e(M),{onClick:n[2]||(n[2]=p=>h.$refs.countdown.reset())},{default:l(()=>[i(o(e(u).resetText),1)]),_:1})]),_:1})],64))}},Ye=P(Ne,[["__scopeId","data-v-41a60976"]]);export{Ye as default};
