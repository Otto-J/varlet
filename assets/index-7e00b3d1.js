import{v as $}from"./index-fc78a31c.js";import{p as r,L as k}from"./index-11dc6cc8.js";import{H as z,u as N}from"./index-198dafdc.js";import{v as S}from"./index-fa07c1b8.js";import{p as d,d as y,f as O,c as P,a as b,w as H}from"./components-3fe2275a.js";import{$ as L,a0 as G,d as R,r as U,B as V,a4 as D,_ as E,b as h,K as B,O as w,e as C,l as I,f as K,t as u,q as A,m as Y,s as q,p as j,v as F}from"./index-4660ddd1.js";const J={type:String,nativeType:{type:String,default:"button"},size:String,loading:Boolean,round:Boolean,block:Boolean,text:Boolean,outline:Boolean,disabled:Boolean,autoLoading:Boolean,ripple:{type:Boolean,default:!0},color:String,textColor:String,elevation:{type:[Boolean,Number,String],default:!0},loadingRadius:[Number,String],loadingType:d(r,"type"),loadingSize:d(r,"size"),loadingColor:{...d(r,"color"),default:"currentColor"},onClick:y(),onTouchstart:y()},T=Symbol("BUTTON_GROUP_BIND_BUTTON_KEY");function se(){const{bindChildren:e,childProviders:o,length:t}=L(T);return{length:t,buttons:o,bindButtons:e}}function M(){const{bindParent:e,parentProvider:o,index:t}=G(T);return{index:t,buttonGroup:o,bindButtonGroup:e}}const{n:Q,classes:W}=P("button"),X=R({name:"VarButton",components:{VarLoading:k,VarHoverOverlay:z},directives:{Ripple:$,Hover:S},props:J,setup(e){const o=U(!1),{buttonGroup:t}=M(),{hovering:v,handleHovering:g}=N(),c=V(()=>{if(!t)return{elevation:O(e.elevation,2),type:e.type!=null?e.type:"default",size:e.size!=null?e.size:"normal",color:e.color,text:e.text,textColor:e.textColor,outline:e.outline};const{type:n,size:a,color:s,textColor:l,mode:f}=t;return{elevation:"",type:e.type!=null?e.type:n.value,size:e.size!=null?e.size:a.value,color:e.color!=null?e.color:s.value,textColor:e.textColor!=null?e.textColor:l.value,text:f.value!=="normal",outline:f.value==="outline"}}),i=n=>{e.autoLoading&&(o.value=!0,n=D(n)?n:[n],Promise.all(n).then(()=>{o.value=!1}).catch(()=>{o.value=!1}))};return{n:Q,classes:W,pending:o,states:c,hovering:v,handleHovering:g,handleClick:n=>{const{loading:a,disabled:s,onClick:l}=e;!l||a||s||o.value||i(b(l,n))},handleTouchstart:n=>{const{loading:a,disabled:s,onTouchstart:l}=e;!l||a||s||o.value||i(b(l,n))}}}});const Z=["type","disabled"];function _(e,o,t,v,g,c){const i=h("var-loading"),p=h("var-hover-overlay"),m=B("ripple"),n=B("hover");return w((C(),I("button",{class:u(e.classes(e.n(),e.n("$--box"),e.n(`--${e.states.size}`),[e.block,`${e.n("$--flex")} ${e.n("--block")}`,e.n("$--inline-flex")],[e.disabled,e.n("--disabled")],[e.states.text,`${e.n(`--text-${e.states.type}`)} ${e.n("--text")}`,`${e.n(`--${e.states.type}`)} ${e.states.elevation}`],[e.states.text&&e.disabled,e.n("--text-disabled")],[e.round,e.n("--round")],[e.states.outline,e.n("--outline")])),style:F({color:e.states.textColor,background:e.states.color}),type:e.nativeType,disabled:e.disabled,onClick:o[0]||(o[0]=(...a)=>e.handleClick&&e.handleClick(...a)),onTouchstart:o[1]||(o[1]=(...a)=>e.handleTouchstart&&e.handleTouchstart(...a))},[e.loading||e.pending?(C(),K(i,{key:0,class:u(e.n("loading")),"var-button-cover":"",color:e.loadingColor,type:e.loadingType,size:e.loadingSize,radius:e.loadingRadius},null,8,["class","color","type","size","radius"])):A("",!0),Y("div",{class:u(e.classes(e.n("content"),[e.loading||e.pending,e.n("--hidden")]))},[q(e.$slots,"default")],2),j(p,{hovering:e.disabled?!1:e.hovering},null,8,["hovering"])],46,Z)),[[m,{disabled:e.disabled||!e.ripple}],[n,e.handleHovering,"desktop"]])}const x=E(X,[["render",_]]);H(x);export{x as B,se as u};
