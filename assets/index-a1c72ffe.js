import{d as B,g as C,j as I,c as P,a as R}from"./logger-259930a0.js";import{t as O,r as V,b as F,e as j,f as D}from"./elements-52ad1f2f.js";import{d as U,a as o,b as v,w as Z,u as q,x as A,Z as G,_ as J,f as K,h as Q,M as X,O as Y,N as T,R as $}from"./vue-router-7db650a3.js";import{u as _}from"./useWindowResize-5ff7d75f.js";const ee={offsetTop:{type:[String,Number],default:0},zIndex:{type:[String,Number],default:10},cssMode:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},onScroll:B()},{n:oe,classes:se}=P("sticky"),te=U({name:"VarSticky",props:ee,setup(e){const n=o(null),l=o(null),t=o(!1),r=o("0px"),f=o("0px"),b=o("auto"),h=o("auto"),x=o("auto"),y=o("auto"),k=v(()=>!e.disabled&&e.cssMode),W=v(()=>!e.disabled&&!e.cssMode&&t.value),i=v(()=>O(e.offsetTop));let s;const S=()=>{const{cssMode:a,disabled:L}=e;if(L)return;let u=0;if(s!==window){const{top:H}=F(s);u=H}const M=l.value,p=n.value,{top:N,left:E}=F(p),g=N-u;return g<=i.value?(a||(b.value=`${p.offsetWidth}px`,h.value=`${p.offsetHeight}px`,r.value=`${u+i.value}px`,f.value=`${E}px`,x.value=`${M.offsetWidth}px`,y.value=`${M.offsetHeight}px`,t.value=!0),{offsetTop:i.value,isFixed:!0}):(t.value=!1,{offsetTop:g,isFixed:!1})},d=()=>{if(!s)return;const a=S();a&&R(e.onScroll,a.offsetTop,a.isFixed)},c=async()=>{t.value=!1,await V(),S()},z=async()=>{await j(),s=D(n.value),s!==window&&s.addEventListener("scroll",d),d()},w=()=>{s!==window&&s.removeEventListener("scroll",d)};return Z(()=>e.disabled,c),C(z),q(w),A(w),_(c),I(()=>window,"scroll",d),{n:oe,classes:se,resize:c,stickyEl:n,wrapperEl:l,isFixed:t,offsetTop:i,fixedTop:r,fixedLeft:f,fixedWidth:b,fixedHeight:h,fixedWrapperWidth:x,fixedWrapperHeight:y,enableCSSMode:k,enableFixedMode:W,toNumber:G}}});function ae(e,n,l,t,r,f){return K(),Q("div",{class:T(e.classes(e.n(),[e.enableCSSMode,e.n("--css-mode")])),ref:"stickyEl",style:$({zIndex:e.toNumber(e.zIndex),top:e.enableCSSMode?`${e.offsetTop}px`:void 0,width:e.enableFixedMode?e.fixedWidth:void 0,height:e.enableFixedMode?e.fixedHeight:void 0})},[X("div",{class:T(e.n("wrapper")),ref:"wrapperEl",style:$({zIndex:e.toNumber(e.zIndex),position:e.enableFixedMode?"fixed":void 0,width:e.enableFixedMode?e.fixedWrapperWidth:void 0,height:e.enableFixedMode?e.fixedWrapperHeight:void 0,left:e.enableFixedMode?e.fixedLeft:void 0,top:e.enableFixedMode?e.fixedTop:void 0})},[Y(e.$slots,"default")],6)],6)}const m=J(te,[["render",ae]]);m.install=function(e){e.component(m.name,m)};export{m as S,ee as p};
