import{F as T,u as W}from"./provide-70e1e134.js";import{d as p,j as E,a as n,c as B,w as S}from"./components-2d7bbda7.js";import{u as q}from"./index-53c9533a.js";import{d as z,b as c,w as b,aW as _,n as D,_ as P,p as j,f as I,h as L,M as O,O as H,N as x,q as J}from"./vue-router-eb3be2d7.js";const K={modelValue:{type:Array,default:()=>[]},max:[String,Number],direction:{type:String,default:"horizontal"},validateTrigger:{type:Array,default:()=>["onChange"]},rules:Array,onChange:p(),"onUpdate:modelValue":p()},{n:Q,classes:R}=B("checkbox-group"),X=z({name:"VarCheckboxGroup",components:{VarFormDetails:T},props:K,setup(e){const i=c(()=>e.max),d=c(()=>e.modelValue.length),{length:u,checkboxes:s,bindCheckboxes:m}=q(),{bindForm:r}=W(),{errorMessage:h,validateWithTrigger:y,validate:A,resetValidation:l}=E(),M=c(()=>h.value),U=a=>{D(()=>{const{validateTrigger:o,rules:t,modelValue:N}=e;y(o,a,t,N)})},g=a=>{n(e["onUpdate:modelValue"],a),n(e.onChange,a),U("onChange")},$=a=>{const{modelValue:o}=e;o.includes(a)||g([...o,a])},w=a=>{const{modelValue:o}=e;o.includes(a)&&g(o.filter(t=>t!==a))},f=()=>s.forEach(({sync:a})=>a(e.modelValue)),v=()=>{s.forEach(a=>a.resetWithAnimation())},F=()=>{const a=s.map(({checkedValue:t})=>t.value),o=_(a);return v(),n(e["onUpdate:modelValue"],o),o},G=()=>{const a=s.filter(({checked:t})=>!t.value).map(({checkedValue:t})=>t.value),o=_(a);return v(),n(e["onUpdate:modelValue"],o),o},V=()=>{n(e["onUpdate:modelValue"],[]),l()},k=()=>A(e.rules,e.modelValue);b(()=>e.modelValue,f,{deep:!0}),b(()=>u.value,f);const C={max:i,checkedCount:d,onChecked:$,onUnchecked:w,validate:k,resetValidation:l,reset:V,errorMessage:M};return m(C),n(r,C),{errorMessage:h,n:Q,classes:R,checkAll:F,inverseAll:G,reset:V,validate:k,resetValidation:l}}});function Y(e,i,d,u,s,m){const r=j("var-form-details");return I(),L("div",{class:x(e.n("wrap"))},[O("div",{class:x(e.classes(e.n(),e.n(`--${e.direction}`)))},[H(e.$slots,"default")],2),J(r,{"error-message":e.errorMessage},null,8,["error-message"])],2)}const Z=P(X,[["render",Y]]);S(Z);export{Z as C};
