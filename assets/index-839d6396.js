import{M as ae}from"./index-badf58d5.js";import{v as le}from"./index-6e983d82.js";import{I as se}from"./index-495e1c3a.js";import{C as ie}from"./index-25357a75.js";import{I as ne}from"./index-d77c1ccd.js";import{d as w,f as oe,c as te,a as q}from"./components-f50e3d1b.js";import{d as ue,a as y,Z as t,b as C,w as K,X as H,_ as re,p as I,ag as de,f as m,h as f,D as B,N as u,O,q as h,aR as Q,M as S,P as c,Q as b,F as R,ai as j,S as D,i as me,ah as pe,j as L}from"./vue-router.esm-bundler-1e250ce9.js";import{p as ve}from"./index-5cbfee55.js";const fe={current:{type:[Number,String]},size:{type:[Number,String],default:10},total:{type:[Number,String],default:0},elevation:{type:[Boolean,Number,String],default:!0},maxPagerCount:{type:Number,default:3},disabled:{type:Boolean,default:!1},simple:{type:Boolean,default:!0},showSizeChanger:{type:Boolean,default:!0},showQuickJumper:{type:Boolean,default:!1},sizeOption:{type:Array,default:()=>[10,20,50,100]},showTotal:{type:Function},onChange:w(),"onUpdate:current":w(),"onUpdate:size":w()},{n:be,classes:ge}=te("pagination"),ke=ue({name:"VarPagination",components:{VarMenu:ae,VarIcon:se,VarCell:ie,VarInput:ne},directives:{Ripple:le},props:fe,setup(e){const s=y(!1),E=y(""),P=y("1"),z=y(!1),M=y(!1),i=y(t(e.current)||1),p=y(t(e.size)||10),N=y([]),$=C(()=>Math.ceil(e.maxPagerCount/2)),r=C(()=>Math.ceil(t(e.total)/t(p.value))),l=C(()=>{const a=p.value*(i.value-1)+1,o=Math.min(p.value*i.value,t(e.total));return[a,o]}),k=C(()=>e.showTotal?e.showTotal(t(e.total),l.value):""),T=(a,o)=>H(a)?!1:o===1?z.value:M.value,A=(a,o)=>H(a)?"basic":o===1?"head":"tail",X=(a,o)=>{a===i.value||e.disabled||(H(a)?i.value=a:a==="prev"?i.value>1&&(i.value-=1):a==="next"?i.value<r.value&&(i.value+=1):a==="..."&&(o===1?i.value=Math.max(i.value-e.maxPagerCount,1):i.value=Math.min(i.value+e.maxPagerCount,r.value)))},Z=()=>{e.disabled||(s.value=!0)},G=a=>{p.value=a,s.value=!1},J=a=>/^[1-9][0-9]*$/.test(a),W=(a,o,g)=>{if(g.target.blur(),J(o)){let V=t(o);V>r.value&&(V=r.value,P.value=`${V}`),V!==i.value&&(i.value=V)}a==="quick"&&(E.value=""),a==="simple"&&!J(o)&&(P.value=`${i.value}`)};return K([()=>e.current,()=>e.size],([a,o])=>{i.value=t(a)||1,p.value=t(o||10)}),K([i,p,r],([a,o,g],[V,Y])=>{let d=[];const{maxPagerCount:v,total:x,onChange:_}=e,ee=Math.ceil(t(x)/t(Y)),U=g-(v-$.value)-1;if(P.value=`${a}`,g-2>v){if(V===void 0||g!==ee)for(let n=2;n<v+2;n++)d.push(n);if(a<=v&&a<U){d=[];for(let n=1;n<v+1;n++)d.push(n+1);z.value=!0,M.value=!1}if(a>v&&a<U){d=[];for(let n=1;n<v+1;n++)d.push(a+n-$.value);z.value=a===2&&v===1,M.value=!1}if(a>=U){d=[];for(let n=1;n<v+1;n++)d.push(g-(v-n)-1);z.value=!1,M.value=!0}d=[1,"...",...d,"...",g]}else for(let n=1;n<=g;n++)d.push(n);N.value=d,V!==void 0&&g>0&&q(_,a,o),q(e["onUpdate:current"],a),q(e["onUpdate:size"],o)},{immediate:!0}),{n:be,classes:ge,pack:ve,current:i,menuVisible:s,size:p,pageCount:r,pageList:N,inputValue:E,simpleValue:P,totalText:k,getMode:A,isHideEllipsis:T,clickItem:X,showMenu:Z,clickSize:G,setPage:W,toNumber:t,formatElevation:oe}}});const Ve=["item-mode","onClick"];function ye(e,s,E,P,z,M){const i=I("var-icon"),p=I("var-input"),N=I("var-cell"),$=I("var-menu"),r=de("ripple");return m(),f("ul",{class:u(e.n())},[B((m(),f("li",{class:u(e.classes(e.n("item"),e.n("prev"),[e.current<=1||e.disabled,e.n("item--disabled")],[e.simple,e.n("item--simple"),e.formatElevation(e.elevation,2)])),onClick:s[0]||(s[0]=l=>e.clickItem("prev"))},[O(e.$slots,"prev",{},()=>[h(i,{name:"chevron-left"})])],2)),[[r,{disabled:e.current<=1||e.disabled}]]),e.simple?(m(),f("li",{key:0,class:u(e.classes(e.n("simple"),[e.disabled,e.n("item--disabled")]))},[h(p,{modelValue:e.simpleValue,"onUpdate:modelValue":s[1]||(s[1]=l=>e.simpleValue=l),disabled:e.disabled,"var-pagination-cover":"",onBlur:s[2]||(s[2]=l=>e.setPage("simple",e.simpleValue,l)),onKeydown:s[3]||(s[3]=Q(l=>e.setPage("simple",e.simpleValue,l),["enter"]))},null,8,["modelValue","disabled"]),S("span",null,[c(" / "+b(e.pageCount)+" ",1),S("div",{class:u(e.n("simple-line"))},null,2)])],2)):(m(!0),f(R,{key:1},j(e.pageList,(l,k)=>B((m(),f("li",{key:e.toNumber(l)+k,"item-mode":e.getMode(l,k),class:u(e.classes(e.n("item"),e.formatElevation(e.elevation,2),[l===e.current&&!e.disabled,e.n("item--active")],[e.isHideEllipsis(l,k),e.n("item--hide")],[e.disabled,e.n("item--disabled")],[l===e.current&&e.disabled,e.n("item--disabled--active")])),onClick:T=>e.clickItem(l,k)},[c(b(l),1)],10,Ve)),[[r,{disabled:e.disabled}]])),128)),B((m(),f("li",{class:u(e.classes(e.n("item"),e.n("next"),[e.current>=e.pageCount||e.disabled,e.n("item--disabled")],[e.simple,e.n("item--simple"),e.formatElevation(e.elevation,2)])),onClick:s[4]||(s[4]=l=>e.clickItem("next"))},[O(e.$slots,"next",{},()=>[h(i,{name:"chevron-right"})])],2)),[[r,{disabled:e.current>=e.pageCount||e.disabled}]]),e.showSizeChanger?(m(),f("li",{key:2,class:u(e.classes(e.n("size"),[e.disabled,e.n("item--disabled")]))},[h($,{disabled:e.disabled,show:e.menuVisible,"onUpdate:show":s[6]||(s[6]=l=>e.menuVisible=l),"offset-x":-4},{menu:D(()=>[(m(!0),f(R,null,j(e.sizeOption,(l,k)=>B((m(),me(N,{class:u(e.classes(e.n("list"),[e.size===l,e.n("list--active")])),key:k,onClick:T=>e.clickSize(l)},{default:D(()=>[c(b(l)+b(e.pack.paginationItem)+" / "+b(e.pack.paginationPage),1)]),_:2},1032,["class","onClick"])),[[r]])),128))]),default:D(()=>[S("div",{class:u(e.classes(e.n("size--open"),[e.current<=1||e.disabled,e.n("size--open--disabled")])),onClick:s[5]||(s[5]=pe((...l)=>e.showMenu&&e.showMenu(...l),["stop"]))},[S("span",null,b(e.size)+b(e.pack.paginationItem)+" / "+b(e.pack.paginationPage),1),h(i,{class:u(e.n("size--open-icon")),"var-pagination-cover":"",name:"menu-down"},null,8,["class"])],2)]),_:1},8,["disabled","show"])],2)):L("",!0),e.showQuickJumper&&!e.simple?(m(),f("li",{key:3,class:u(e.classes(e.n("quickly"),[e.disabled,"item--disabled"]))},[c(b(e.pack.paginationJump)+" ",1),h(p,{modelValue:e.inputValue,"onUpdate:modelValue":s[7]||(s[7]=l=>e.inputValue=l),disabled:e.disabled,"var-pagination-cover":"",onBlur:s[8]||(s[8]=l=>e.setPage("quick",e.inputValue,l)),onKeydown:s[9]||(s[9]=Q(l=>e.setPage("quick",e.inputValue,l),["enter"]))},null,8,["modelValue","disabled"])],2)):L("",!0),e.totalText?(m(),f("li",{key:4,class:u(e.n("total"))},b(e.totalText),3)):L("",!0)],2)}const F=re(ke,[["render",ye]]);F.install=function(e){e.component(F.name,F)};export{F as P};
