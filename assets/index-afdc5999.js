import{v as V}from"./index-4453413c.js";import{p as c,L as P}from"./index-76209a1a.js";import{c as k,p as f,d as $,u as L,a as B}from"./components-440543a7.js";import{d as z,_ as N,f as g,h as O,N as i,a as H,b as R,ax as G,p as C,ag as T,D as U,i as D,j as E,M as w,O as A,q as I,R as K}from"./vue-router.esm-bundler-6be07501.js";import{v as Y}from"./index-d73f18e4.js";import{u as j}from"./useChildren-9d793b89.js";const q={hovering:{type:Boolean,default:!0}},{n:M,classes:F}=k("hover-overlay"),J=z({name:"VarHoverOverlay",props:q,setup(){return{n:M,classes:F}}});function Q(e,n,t,u,v,p){return g(),O("div",{class:i(e.classes(e.n(),[e.hovering,e.n("--hovering")]))},null,2)}const d=N(J,[["render",Q]]);d.install=function(e){e.component(d.name,d)};function W(){const e=H(!1);return{hovering:e,handleHovering:t=>{e.value=t}}}function X(e){return["default","primary","info","success","warning","danger"].includes(e)}function Z(e){return["normal","mini","small","large"].includes(e)}function _(e){return["button","reset","submit"].includes(e)}const x={type:{type:String,validator:X},nativeType:{type:String,default:"button",validator:_},size:{type:String,validator:Z},loading:{type:Boolean,default:!1},round:{type:Boolean,default:!1},block:{type:Boolean,default:!1},text:{type:Boolean,default:!1},outline:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},ripple:{type:Boolean,default:!0},color:{type:String},textColor:{type:String},autoLoading:{type:Boolean,default:!1},loadingRadius:{type:[Number,String]},loadingType:f(c,"type"),loadingSize:f(c,"size"),loadingColor:{...f(c,"color"),default:"currentColor"},onClick:$(),onTouchstart:$()},S=Symbol("BUTTON_GROUP_BIND_BUTTON_KEY");function pe(){const{bindChildren:e,childProviders:n,length:t}=j(S);return{length:t,buttons:n,bindButtons:e}}function ee(){const{bindParent:e,parentProvider:n,index:t}=L(S);return{index:t,buttonGroup:n,bindButtonGroup:e}}const{n:ne,classes:oe}=k("button"),te=z({name:"VarButton",components:{VarLoading:P,VarHoverOverlay:d},directives:{Ripple:V,Hover:Y},props:x,setup(e){const n=H(!1),{buttonGroup:t}=ee(),{hovering:u,handleHovering:v}=W(),p=R(()=>{if(!t)return{elevation:2,type:e.type!=null?e.type:"default",size:e.size!=null?e.size:"normal",color:e.color,text:e.text,textColor:e.textColor,outline:e.outline};const{type:o,size:a,color:s,textColor:l,mode:b}=t;return{elevation:0,type:e.type!=null?e.type:o.value,size:e.size!=null?e.size:a.value,color:e.color!=null?e.color:s.value,textColor:e.textColor!=null?e.textColor:l.value,text:b.value!=="normal",outline:b.value==="outline"}}),r=o=>{e.autoLoading&&(n.value=!0,o=G(o)?o:[o],Promise.all(o).then(()=>{n.value=!1}).catch(()=>{n.value=!1}))};return{n:ne,classes:oe,pending:n,states:p,hovering:u,handleHovering:v,handleClick:o=>{const{loading:a,disabled:s,onClick:l}=e;!l||a||s||n.value||r(B(l,o))},handleTouchstart:o=>{const{loading:a,disabled:s,onTouchstart:l}=e;!l||a||s||n.value||r(B(l,o))}}}});const ae=["type","disabled"];function le(e,n,t,u,v,p){const r=C("var-loading"),m=C("var-hover-overlay"),h=T("ripple"),o=T("hover");return U((g(),O("button",{class:i(e.classes(e.n(),e.n("$--box"),e.n(`--${e.states.size}`),[e.block,`${e.n("$--flex")} ${e.n("--block")}`,e.n("$--inline-flex")],[e.disabled,e.n("--disabled")],[e.states.text,`${e.n(`--text-${e.states.type}`)} ${e.n("--text")}`,`${e.n(`--${e.states.type}`)} ${e.n(`$-elevation--${e.states.elevation}`)}`],[e.states.text&&e.disabled,e.n("--text-disabled")],[e.round,e.n("--round")],[e.states.outline,e.n("--outline")])),style:K({color:e.states.textColor,background:e.states.color}),type:e.nativeType,disabled:e.disabled,onClick:n[0]||(n[0]=(...a)=>e.handleClick&&e.handleClick(...a)),onTouchstart:n[1]||(n[1]=(...a)=>e.handleTouchstart&&e.handleTouchstart(...a))},[e.loading||e.pending?(g(),D(r,{key:0,class:i(e.n("loading")),"var-button-cover":"",color:e.loadingColor,type:e.loadingType,size:e.loadingSize,radius:e.loadingRadius},null,8,["class","color","type","size","radius"])):E("",!0),w("div",{class:i(e.classes(e.n("content"),[e.loading||e.pending,e.n("--hidden")]))},[A(e.$slots,"default")],2),I(m,{hovering:e.hovering},null,8,["hovering"])],46,ae)),[[h,{disabled:e.disabled||!e.ripple}],[o,e.handleHovering,"desktop"]])}const y=N(te,[["render",le]]);y.install=function(e){e.component(y.name,y)};export{y as B,X as t,pe as u};
