import{o as tt,c as et}from"./logger-928e8198.js";import{b as W,t as D}from"./elements-ab6c30e6.js";import{d as at,a as y,r as ot,w as nt,aI as H,_ as rt,f as O,i as st,M as it,O as lt,m as dt,T as ct,ac as ut,aD as ft,h as pt,q as r,S as s,ao as a,F as mt,P as p,Q as m,n as ht}from"./vue-router-d12202db.js";import{o as yt}from"./onWindowResize-a319d928.js";import{B as _}from"./index-9bdbf1a0.js";import{d as gt}from"./index-a0438c78.js";import{u as bt,b as P,_ as xt,c as vt,a as _t}from"./index-9b481dcd.js";import{A as T}from"./appType-d12967c1.js";import"./index-92086fe4.js";import"./index-6f0b3011.js";/* empty css               */import"./index-41aa7415.js";import"./index-8932df76.js";import"./index-a474ec93.js";import"./useChildren-f2f14565.js";const Tt={direction:{type:String,default:"xy"},attraction:{type:String},disabled:{type:Boolean,default:!1},boundary:{type:Object,default:()=>({top:0,bottom:0,left:0,right:0})},zIndex:{type:[Number,String],default:90},teleport:{type:[String,Object],default:"body"}},{n:wt,classes:zt}=et("drag"),kt=at({name:"VarDrag",inheritAttrs:!1,props:Tt,setup(t,{attrs:d}){const x=y(null),u=y(0),f=y(0),i=ot({top:0,bottom:0,left:0,right:0}),n=y(!1),v=y(!1);let w=!1,X=0,Y=0;const U=()=>{const{left:e,top:o}=B();u.value=e,f.value=o},I=e=>{if(t.disabled)return;const{clientX:o,clientY:l}=e.touches[0];U(),X=o,Y=l,w=!0},L=async e=>{if(!w||t.disabled)return;e.preventDefault(),v.value=!1;const{clientX:o,clientY:l}=e.touches[0],c=o-X,b=l-Y;X=o,Y=l,t.direction.includes("x")&&(u.value+=c),t.direction.includes("y")&&(f.value+=b),R()},M=()=>{t.disabled||(w=!1,j())},B=()=>{const e=W(x.value),o=W(window),l=e.top-o.top,c=o.bottom-e.bottom,b=e.left-o.left,N=o.right-e.right,{width:k,height:A}=e,{width:S,height:$}=o;return{top:l,bottom:c,left:b,right:N,width:k,height:A,halfWidth:k/2,halfHeight:A/2,windowWidth:S,windowHeight:$}},C=()=>{const e=B(),o=i.left,l=e.windowWidth-i.right-e.width,c=i.top,b=e.windowHeight-i.bottom-e.height;return{minX:o,minY:c,maxX:o<l?l:o,maxY:c<b?b:c}},j=()=>{if(t.attraction==null)return;v.value=!0;const{halfWidth:e,halfHeight:o,top:l,bottom:c,left:b,right:N}=B(),{minX:k,minY:A,maxX:S,maxY:$}=C(),E=b+e-i.left,Q=N+e-i.right,G=l+o-i.top,J=c+o-i.bottom,K=E<=Q,Z=G<=J;t.attraction.includes("x")&&(u.value=K?k:S),t.attraction.includes("y")&&(f.value=Z?A:$)},R=()=>{if(t.disabled)return;const{minX:e,minY:o,maxX:l,maxY:c}=C();u.value=H(u.value,e,l),f.value=H(f.value,o,c)},F=()=>{const{top:e=0,bottom:o=0,left:l=0,right:c=0}=t.boundary;i.top=D(e),i.bottom=D(o),i.left=D(l),i.right=D(c)},q=()=>{const e=d.style??{};return{...d,style:{...e,top:n.value?0:e.top,left:n.value?0:e.left,right:n.value?"auto":e.right,bottom:n.value?"auto":e.bottom,transform:n.value?`translate(${u.value}px, ${f.value}px)`:e.transform}}},z=()=>{F(),U(),R()};return nt(()=>t.boundary,z),yt(z),tt(()=>{z(),n.value=!0}),{drag:x,x:u,y:f,enableTransition:v,n:wt,classes:zt,getAttrs:q,handleTouchstart:I,handleTouchmove:L,handleTouchend:M,resize:z}}});function At(t,d,x,u,f,i){return O(),st(ct,{to:t.teleport},[it("div",dt({ref:"drag",class:t.classes(t.n(),t.n("$--box"),[t.enableTransition,t.n("--transition")]),style:{"z-index":t.zIndex},onTouchstart:d[0]||(d[0]=(...n)=>t.handleTouchstart&&t.handleTouchstart(...n)),onTouchmove:d[1]||(d[1]=(...n)=>t.handleTouchmove&&t.handleTouchmove(...n)),onTouchend:d[2]||(d[2]=(...n)=>t.handleTouchend&&t.handleTouchend(...n)),onTouchcancel:d[3]||(d[3]=(...n)=>t.handleTouchend&&t.handleTouchend(...n))},t.getAttrs()),[lt(t.$slots,"default")],16)],8,["to"])}const g=rt(kt,[["render",At]]);g.install=function(t){t.component(g.name,g)};const Dt={basicUse:"基本使用",direction:"拖拽方向",attraction:"吸附方向",xAttraction:"水平吸附",yAttraction:"垂直吸附",disabled:"禁用",boundary:"拖拽区域"},Xt={basicUse:"Basic Use",direction:"Direction",attraction:"Attraction Direction",xAttraction:"X Attraction",yAttraction:"Y Attraction",disabled:"Disabled",boundary:"Boundary"},{add:V,use:Yt,pack:h,packs:Ft,merge:qt}=bt(),Bt=t=>{_t(t),Yt(t)};P("zh-CN",xt);P("en-US",vt);V("zh-CN",Dt);V("en-US",Xt);const Et={__name:"index",setup(t){const d=y(null),x=y(null),u=y(null),f=y(null),i=y(null),n=y(null);return ut(v=>{Bt(v),ht(()=>{d.value.resize(),x.value.resize(),u.value.resize(),f.value.resize(),i.value.resize(),n.value.resize()})}),ft(gt),(v,w)=>(O(),pt(mt,null,[r(a(T),{style:{height:"50px"}},{default:s(()=>[p(m(a(h).basicUse),1)]),_:1}),r(a(g),{ref_key:"drag",ref:d,style:{left:"15px",top:"105px"},boundary:{top:54}},{default:s(()=>[r(a(_),{type:"primary"},{default:s(()=>[p(m(a(h).basicUse),1)]),_:1})]),_:1},512),r(a(T),{style:{height:"50px","margin-top":"40px"}},{default:s(()=>[p(m(a(h).direction),1)]),_:1}),r(a(g),{ref_key:"drag2",ref:x,style:{left:"15px",top:"195px"},direction:"x",boundary:{top:54}},{default:s(()=>[r(a(_),{type:"primary"},{default:s(()=>[p(m(a(h).direction),1)]),_:1})]),_:1},512),r(a(T),{style:{height:"50px","margin-top":"40px"}},{default:s(()=>[p(m(a(h).attraction),1)]),_:1}),r(a(g),{ref_key:"drag3",ref:u,style:{left:"15px",top:"285px"},attraction:"x",boundary:{top:54}},{default:s(()=>[r(a(_),{type:"primary"},{default:s(()=>[p(m(a(h).xAttraction),1)]),_:1})]),_:1},512),r(a(g),{ref_key:"drag4",ref:f,style:{left:"132px",top:"285px"},attraction:"y",boundary:{top:54}},{default:s(()=>[r(a(_),{type:"primary"},{default:s(()=>[p(m(a(h).yAttraction),1)]),_:1})]),_:1},512),r(a(T),{style:{height:"50px","margin-top":"40px"}},{default:s(()=>[p(m(a(h).disabled),1)]),_:1}),r(a(g),{ref_key:"drag5",ref:i,style:{left:"15px",top:"375px"},disabled:"",attraction:"x",boundary:{top:54}},{default:s(()=>[r(a(_),{type:"primary",disabled:""},{default:s(()=>[p(m(a(h).disabled),1)]),_:1})]),_:1},512),r(a(T),{style:{height:"50px","margin-top":"40px"}},{default:s(()=>[p(m(a(h).boundary),1)]),_:1}),r(a(g),{ref_key:"drag6",ref:n,style:{left:"15px",top:"465px"},attraction:"x",boundary:{top:465,bottom:15,left:15,right:15}},{default:s(()=>[r(a(_),{type:"primary"},{default:s(()=>[p(m(a(h).boundary),1)]),_:1})]),_:1},512)],64))}};export{Et as default};
