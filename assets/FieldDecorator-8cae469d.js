import{I as D}from"./index-bc981497.js";import{d as F,c as E,a as $}from"./components-9c7ec777.js";import{d as V,a as p,b as I,aM as z,aI as f,_ as P,p as N,f as n,h as r,M as o,N as l,O as g,R as c,Q as B,j as b,i as W,F as R}from"./vue-router-c6b020dd.js";function T(e){return["small","normal"].includes(e)}function j(e){return["outlined","standard"].includes(e)}const q={value:{type:null,required:!0},id:{type:String,default:""},isFocus:{type:Boolean},size:{type:String,default:"normal",validator:T},variant:{type:String,default:"standard",validator:j},placeholder:{type:String},line:{type:Boolean,default:!0},hint:{type:Boolean,default:!0},textColor:{type:String},focusColor:{type:String},blurColor:{type:String},errorMessage:{type:String},formDisabled:{type:Boolean},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},cursor:{type:String},composing:{type:Boolean,default:!1},alwaysCustomPlaceholder:{type:Boolean,default:!0},onClick:F(),onClear:F()},{n:C,classes:L}=E("field-decorator"),O=V({name:"VarFieldDecorator",components:{VarIcon:D},props:q,setup(e){const s=p(null),i=p(null),d=p(""),u=p(""),k=I(()=>e.errorMessage?void 0:e.isFocus?e.focusColor:e.blurColor),h=()=>{const{hint:a,value:t,isFocus:v,composing:y}=e;if(!a&&(!f(t)||y))return C("--placeholder-hidden");if(a&&(!f(t)||v))return C("--placeholder-hint")},m=a=>{$(e.onClear,a)},M=a=>{$(e.onClick,a)};return z(()=>{var S;const{hint:a,value:t,isFocus:v,variant:y}=e;if(!(!s.value||!i.value)){if(a&&(!f(t)||v)){const w=((S=window.getComputedStyle(s.value))==null?void 0:S.width)||0;u.value=`translate(-${w}, ${y==="outlined"?"-50%":0}) scale(0.75)`,d.value=`${i.value.getBoundingClientRect().width}px`;return}d.value="100%",u.value=""}}),{prependIconEl:s,decoratorEl:i,placeholderMaxWidth:d,placeholderTransform:u,color:k,computePlaceholderState:h,n:C,classes:L,isEmpty:f,handleClear:m,handleClick:M}}});const Q=["for"];function A(e,s,i,d,u,k){const h=N("var-icon");return n(),r("div",{ref:"decoratorEl",class:l(e.classes(e.n(),e.n("$--box"),e.n(`--${e.variant}`),[e.size==="small",e.n("--small")],[e.disabled,e.n("--disabled")])),onClick:s[0]||(s[0]=(...m)=>e.handleClick&&e.handleClick(...m))},[o("div",{class:l(e.classes(e.n("controller"),[e.isFocus,e.n("--focus")],[e.errorMessage,e.n("--error")],[e.formDisabled||e.disabled,e.n("--disabled")])),style:c({color:e.color,cursor:e.cursor})},[o("div",{class:l(e.classes(e.n("icon"),[!e.hint,e.n("--non-hint")])),ref:"prependIconEl"},[g(e.$slots,"prepend-icon")],2),o("div",{class:l(e.classes(e.n("wrap"),[!e.hint,e.n("--wrap-non-hint")]))},[g(e.$slots,"default"),e.decoratorEl&&(e.hint||e.alwaysCustomPlaceholder)?(n(),r("label",{key:0,class:l(e.classes(e.n("placeholder"),e.n("$--ellipsis"),[e.isFocus,e.n("--focus")],[e.formDisabled||e.disabled,e.n("--disabled")],[e.errorMessage,e.n("--error")],[!e.hint,e.n("--placeholder-non-hint")],e.computePlaceholderState())),style:c({"--field-decorator-placeholder-max-width":e.placeholderMaxWidth,transform:e.placeholderTransform,color:e.color}),for:e.id},B(e.placeholder),15,Q)):b("",!0)],2),o("div",{class:l(e.classes(e.n("icon"),[!e.hint,e.n("--non-hint")]))},[e.clearable&&!e.isEmpty(e.value)?(n(),W(h,{key:0,class:l(e.n("clear-icon")),"var-field-decorator-cover":"",name:"close-circle",onClick:e.handleClear},null,8,["class","onClick"])):b("",!0),g(e.$slots,"append-icon")],2)],6),e.line?(n(),r(R,{key:0},[e.variant==="outlined"?(n(),r("fieldset",{key:0,class:l(e.classes(e.n("line"),e.n("$--box"),[e.isFocus,e.n("--line-focus")],[e.errorMessage,e.n("--line-error")],[e.formDisabled||e.disabled,e.n("--line-disabled")]))},[o("legend",{class:l(e.classes(e.n("line-legend"),[e.hint&&(!e.isEmpty(e.value)||e.isFocus),e.n("line-legend--hint")]))},[o("span",{class:l(e.classes(e.n("line-legend-placeholder")))},B(e.placeholder),3)],2)],2)):(n(),r("div",{key:1,class:l(e.classes(e.n("line"),[e.formDisabled||e.disabled,e.n("--line-disabled")],[e.errorMessage,e.n("--line-error")])),style:c({background:e.errorMessage?void 0:e.blurColor})},[o("div",{class:l(e.classes(e.n("dot"),[e.isFocus,e.n("--line-focus")],[e.formDisabled||e.disabled,e.n("--line-disabled")],[e.errorMessage,e.n("--line-error")])),style:c({background:e.errorMessage?void 0:e.focusColor})},null,6)],6))],64)):b("",!0)],2)}const K=P(O,[["render",A]]);export{K as V,q as p};
