import{I as Y}from"./index-5ae50cc0.js";import{F as q,u as L}from"./provide-8be1530f.js";import{v as J}from"./index-fde800b6.js";import{v as Q}from"./index-ef9afa54.js";import{H as Z,u as _}from"./index-d113846f.js";import{d as v,u as x,j as I,k as ee,a as m,c as ae,w as ne}from"./logger-9a144f5d.js";import{u as oe}from"./useChildren-05343878.js";import{d as se,b as N,a as re,n as le,_ as ie,p as g,af as w,f as A,h as E,M,D as de,N as d,R as te,O as k,q as c,j as V}from"./vue-router-547718df.js";const R=Symbol("CHECKBOX_GROUP_BIND_CHECKBOX_KEY");function Se(){const{bindChildren:e,childProviders:s,length:l}=oe(R);return{length:l,checkboxes:s,bindCheckboxes:e}}const ce={modelValue:{type:[String,Number,Boolean,Object,Array],default:!1},checkedValue:{type:[String,Number,Boolean,Object,Array],default:!0},uncheckedValue:{type:[String,Number,Boolean,Object,Array],default:!1},checkedColor:{type:String},uncheckedColor:{type:String},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},iconSize:{type:[String,Number]},ripple:{type:Boolean,default:!0},validateTrigger:{type:Array,default:["onChange"]},rules:{type:Array},onClick:v(),onChange:v(),"onUpdate:modelValue":v(),"onUpdate:indeterminate":v()};function ue(){const{bindParent:e,parentProvider:s,index:l}=x(R);return{index:l,checkboxGroup:s,bindCheckboxGroup:e}}const{n:he,classes:ve}=ae("checkbox"),me=se({name:"VarCheckbox",directives:{Ripple:J,Hover:Q},components:{VarIcon:Y,VarFormDetails:q,VarHoverOverlay:Z},props:ce,setup(e){const s=I(e,"modelValue"),l=N(()=>s.value===e.checkedValue),B=N(()=>e.checkedValue),u=re(!1),{checkboxGroup:n,bindCheckboxGroup:t}=ue(),{hovering:b,handleHovering:f}=_(),{form:a,bindForm:C}=L(),{errorMessage:p,validateWithTrigger:P,validate:$,resetValidation:y}=ee(),O=I(e,"indeterminate"),K=r=>{le(()=>{const{validateTrigger:o,rules:i,modelValue:h}=e;P(o,r,i,h)})},S=r=>{const{checkedValue:o,onChange:i}=e;s.value=r,O.value=!1,m(i,s.value),K("onChange"),r===o?n==null||n.onChecked(o):n==null||n.onUnchecked(o)},j=r=>{const{disabled:o,readonly:i,checkedValue:h,uncheckedValue:G,onClick:X}=e;if(a!=null&&a.disabled.value||o||(m(X,r),a!=null&&a.readonly.value||i))return;u.value=!0;const W=n?n.checkedCount.value>=Number(n.max.value):!1;!l.value&&W||S(l.value?G:h)},F=r=>{const{checkedValue:o,uncheckedValue:i}=e;s.value=r.includes(o)?o:i},T=()=>{u.value=!1},z=()=>{s.value=e.uncheckedValue,y()},U=r=>{const{checkedValue:o,uncheckedValue:i}=e;![o,i].includes(r)&&(r=l.value?i:o),S(r)},D=()=>$(e.rules,e.modelValue),H={checkedValue:B,checked:l,sync:F,validate:D,resetValidation:y,reset:z,resetWithAnimation:T};return m(t,H),m(C,H),{isIndeterminate:O,withAnimation:u,checked:l,errorMessage:p,checkboxGroupErrorMessage:n==null?void 0:n.errorMessage,formDisabled:a==null?void 0:a.disabled,formReadonly:a==null?void 0:a.readonly,hovering:b,handleHovering:f,n:he,classes:ve,handleClick:j,toggle:U,reset:z,validate:D,resetValidation:y}}});function ke(e,s,l,B,u,n){const t=g("var-icon"),b=g("var-hover-overlay"),f=g("var-form-details"),a=w("hover"),C=w("ripple");return A(),E("div",{class:d(e.n("wrap")),onClick:s[0]||(s[0]=(...p)=>e.handleClick&&e.handleClick(...p))},[M("div",{class:d(e.n())},[de((A(),E("div",{class:d(e.classes(e.n("action"),[e.checked||e.isIndeterminate,e.n("--checked"),e.n("--unchecked")],[e.errorMessage||e.checkboxGroupErrorMessage,e.n("--error")],[e.formDisabled||e.disabled,e.n("--disabled")])),style:te({color:e.checked||e.isIndeterminate?e.checkedColor:e.uncheckedColor})},[e.isIndeterminate?k(e.$slots,"indeterminate-icon",{key:0},()=>[c(t,{class:d(e.classes(e.n("icon"),[e.withAnimation,e.n("--with-animation")])),name:"minus-box",size:e.iconSize,"var-checkbox-cover":""},null,8,["class","size"])]):V("",!0),e.checked&&!e.isIndeterminate?k(e.$slots,"checked-icon",{key:1},()=>[c(t,{class:d(e.classes(e.n("icon"),[e.withAnimation,e.n("--with-animation")])),name:"checkbox-marked",size:e.iconSize,"var-checkbox-cover":""},null,8,["class","size"])]):V("",!0),!e.checked&&!e.isIndeterminate?k(e.$slots,"unchecked-icon",{key:2},()=>[c(t,{class:d(e.classes(e.n("icon"),[e.withAnimation,e.n("--with-animation")])),name:"checkbox-blank-outline",size:e.iconSize,"var-checkbox-cover":""},null,8,["class","size"])]):V("",!0),c(b,{hovering:!e.disabled&&!e.formDisabled&&e.hovering},null,8,["hovering"])],6)),[[a,e.handleHovering,"desktop"],[C,{disabled:e.formReadonly||e.readonly||e.formDisabled||e.disabled||!e.ripple}]]),M("div",{class:d(e.classes(e.n("text"),[e.errorMessage||e.checkboxGroupErrorMessage,e.n("--error")],[e.formDisabled||e.disabled,e.n("--disabled")]))},[k(e.$slots,"default")],2)],2),c(f,{"error-message":e.errorMessage},null,8,["error-message"])],2)}const be=ie(me,[["render",ke]]);ne(be);export{be as C,Se as u};
