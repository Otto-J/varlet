import{F as I,u as P}from"./provide-8be1530f.js";import{d as V,k as E,a as c,c as H,w as F,u as Q,j as X}from"./logger-9a144f5d.js";import{d as U,b as j,w as N,n as W,_ as K,p as A,f as w,h as B,M as z,O as M,N as u,q as b,a as Z,af as T,D as _,R as x,m as ee}from"./vue-router-547718df.js";import{I as ae}from"./index-5ae50cc0.js";import{v as oe}from"./index-fde800b6.js";import{v as re}from"./index-ef9afa54.js";import{H as ne,u as se}from"./index-d113846f.js";import{u as le}from"./useChildren-05343878.js";function ie(e){return["horizontal","vertical"].includes(e)}const de={modelValue:{type:[String,Number,Boolean,Object,Array],default:void 0},direction:{type:String,default:"horizontal",validator:ie},validateTrigger:{type:Array,default:()=>["onChange"]},rules:{type:Array},onChange:V(),"onUpdate:modelValue":V()},Y=Symbol("RADIO_GROUP_BIND_RADIO_KEY");function te(){const{bindChildren:e,childProviders:o,length:n}=le(Y);return{length:n,radios:o,bindRadios:e}}const{n:ce,classes:ue}=H("radio-group"),ve=U({name:"VarRadioGroup",components:{VarFormDetails:I},props:de,setup(e){const{length:o,radios:n,bindRadios:v}=te(),{bindForm:s}=P(),{errorMessage:m,validateWithTrigger:d,validate:p,resetValidation:a}=E(),f=j(()=>m.value),y=t=>{W(()=>{const{validateTrigger:S,rules:C,modelValue:$}=e;d(S,t,C,$)})},h=()=>n.forEach(({sync:t})=>t(e.modelValue)),O=t=>{c(e["onUpdate:modelValue"],t),c(e.onChange,t),y("onChange")},g=()=>p(e.rules,e.modelValue),R=()=>{c(e["onUpdate:modelValue"],void 0),a()};N(()=>e.modelValue,h),N(()=>o.value,h);const k={onToggle:O,validate:g,reset:R,resetValidation:a,errorMessage:f};return c(s,k),v(k),{errorMessage:m,n:ce,classes:ue,reset:R,validate:g,resetValidation:a}}});function me(e,o,n,v,s,m){const d=A("var-form-details");return w(),B("div",{class:u(e.n("wrap"))},[z("div",{class:u(e.classes(e.n(),e.n(`--${e.direction}`)))},[M(e.$slots,"default")],2),b(d,{"error-message":e.errorMessage},null,8,["error-message"])],2)}const he=K(ve,[["render",me]]);F(he);const ge={modelValue:{type:[String,Number,Boolean,Object,Array],default:!1},checkedValue:{type:[String,Number,Boolean,Object,Array],default:!0},uncheckedValue:{type:[String,Number,Boolean,Object,Array],default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},checkedColor:{type:String},uncheckedColor:{type:String},iconSize:{type:[String,Number]},ripple:{type:Boolean,default:!0},validateTrigger:{type:Array,default:()=>["onChange"]},rules:{type:Array},onClick:V(),onChange:V(),"onUpdate:modelValue":V()};function pe(){const{bindParent:e,parentProvider:o,index:n}=Q(Y);return{index:n,radioGroup:o,bindRadioGroup:e}}const{n:fe,classes:ye}=H("radio"),ke=U({name:"VarRadio",directives:{Ripple:oe,Hover:re},components:{VarIcon:ae,VarFormDetails:I,VarHoverOverlay:ne},inheritAttrs:!1,props:ge,setup(e){const o=X(e,"modelValue"),n=j(()=>o.value===e.checkedValue),v=Z(!1),{radioGroup:s,bindRadioGroup:m}=pe(),{hovering:d,handleHovering:p}=se(),{form:a,bindForm:f}=P(),{errorMessage:y,validateWithTrigger:h,validate:O,resetValidation:g}=E(),R=l=>{W(()=>{const{validateTrigger:r,rules:i,modelValue:D}=e;h(r,l,i,D)})},k=l=>{const{checkedValue:r,onChange:i}=e;s&&o.value===r||(o.value=l,c(i,o.value),s==null||s.onToggle(r),R("onChange"))},t=l=>{const{disabled:r,readonly:i,uncheckedValue:D,checkedValue:L,onClick:J}=e;a!=null&&a.disabled.value||r||(c(J,l),!(a!=null&&a.readonly.value||i)&&(v.value=!0,k(n.value?D:L)))},S=l=>{const{checkedValue:r,uncheckedValue:i}=e;o.value=l===r?r:i},C=()=>{o.value=e.uncheckedValue,g()},$=()=>O(e.rules,e.modelValue),q=l=>{const{uncheckedValue:r,checkedValue:i}=e;![r,i].includes(l)&&(l=n.value?r:i),k(l)},G={sync:S,validate:$,resetValidation:g,reset:C};return c(m,G),c(f,G),{withAnimation:v,checked:n,errorMessage:y,radioGroupErrorMessage:s==null?void 0:s.errorMessage,formDisabled:a==null?void 0:a.disabled,formReadonly:a==null?void 0:a.readonly,hovering:d,handleHovering:p,n:fe,classes:ye,handleClick:t,toggle:q,reset:C,validate:$,resetValidation:g}}});function be(e,o,n,v,s,m){const d=A("var-icon"),p=A("var-hover-overlay"),a=A("var-form-details"),f=T("ripple"),y=T("hover");return w(),B("div",{class:u(e.n("wrap"))},[z("div",ee({class:e.n(),onClick:o[0]||(o[0]=(...h)=>e.handleClick&&e.handleClick(...h))},e.$attrs),[_((w(),B("div",{class:u(e.classes(e.n("action"),[e.checked,e.n("--checked"),e.n("--unchecked")],[e.errorMessage||e.radioGroupErrorMessage,e.n("--error")],[e.formDisabled||e.disabled,e.n("--disabled")])),style:x({color:e.checked?e.checkedColor:e.uncheckedColor})},[e.checked?M(e.$slots,"checked-icon",{key:0},()=>[b(d,{class:u(e.classes(e.n("icon"),[e.withAnimation,e.n("--with-animation")])),"var-radio-cover":"",name:"radio-marked",size:e.iconSize},null,8,["class","size"])]):M(e.$slots,"unchecked-icon",{key:1},()=>[b(d,{class:u(e.classes(e.n("icon"),[e.withAnimation,e.n("--with-animation")])),"var-radio-cover":"",name:"radio-blank",size:e.iconSize},null,8,["class","size"])]),b(p,{hovering:!e.disabled&&!e.formDisabled&&e.hovering},null,8,["hovering"])],6)),[[f,{disabled:e.formReadonly||e.readonly||e.formDisabled||e.disabled||!e.ripple}],[y,e.handleHovering,"desktop"]]),z("div",{class:u(e.classes(e.n("text"),[e.errorMessage||e.radioGroupErrorMessage,e.n("--error")],[e.formDisabled||e.disabled,e.n("--disabled")]))},[M(e.$slots,"default")],2)],16),b(a,{"error-message":e.errorMessage},null,8,["error-message"])],2)}const Ve=K(ke,[["render",be]]);F(Ve);export{Ve as R,he as a};
