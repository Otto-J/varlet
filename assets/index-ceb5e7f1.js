import{d as F,c as Q,a as B,w as W}from"./components-d7d83eda.js";import{p as E}from"./shared-edf5ce5a.js";import{d as Y,r as v,G as J,a8 as K,a9 as X,ax as Z,aV as I,a4 as z,aW as ee,_ as R,e as V,m as P,v as te,Q as m,R as n,aM as se,aN as oe,x as ae,F as ne,aj as le,q as o,w as i,U as t,N as ce,p as y,$ as re,a0 as ie}from"./index-cf3934f2.js";import{S as ue}from"./index-a3d6f706.js";import{B as M}from"./index-d1d7639c.js";import{R as me}from"./index-2713d662.js";import{d as de}from"./index-ea9abee8.js";import{u as pe,b as j,_ as fe,c as _e,a as Se}from"./index-bf6d708d.js";import{A as g}from"./appType-45affd4d.js";import"./index-dd51fbd7.js";import"./elements-0c4b6953.js";import"./logger-525ef361.js";import"./index-f130f4ba.js";import"./zIndex-c3105c1d.js";import"./index-7b31c49f.js";import"./lock-0e74cb9a.js";import"./index-c5b3ffbc.js";/* empty css               */import"./index-ad8e9bc0.js";import"./index-cc7e9f70.js";const he={time:{type:[String,Number],default:0},format:{type:String,default:"HH : mm : ss"},autoStart:{type:Boolean,default:!0},onEnd:F(),onChange:F()},{name:we,n:Ce}=Q("countdown"),b=1e3,D=60*b,U=60*D,A=24*U,ge=Y({name:we,props:he,setup(s){const w=v(""),S=v({days:0,hours:0,minutes:0,seconds:0,milliseconds:0});let d=0,l=!1,p=0,a=0,c;J(()=>s.time,()=>{H(),s.autoStart&&$()},{immediate:!0}),K(()=>{c!=null&&(l=c,l===!0&&$(!0))}),X(()=>{c=l,N()}),Z(N);function q(e,C){const r=Object.values(C),k=["DD","HH","mm","ss"],T=[24,60,60,1e3];if(k.forEach((f,_)=>{e.includes(f)?e=e.replace(f,E(`${r[_]}`,2,"0")):r[_+1]+=r[_]*T[_]}),e.includes("S")){const f=E(`${r[r.length-1]}`,3,"0");e.includes("SSS")?e=e.replace("SSS",f):e.includes("SS")?e=e.replace("SS",f.slice(0,2)):e=e.replace("S",f.slice(0,1))}return e}function G(e){const C=Math.floor(e/A),r=Math.floor(e%A/U),k=Math.floor(e%U/D),T=Math.floor(e%D/b),f=Math.floor(e%b),_={days:C,hours:r,minutes:k,seconds:T,milliseconds:f};S.value=_,B(s.onChange,S.value),w.value=q(s.format,_)}function x(){const{time:e,onEnd:C}=s,r=performance.now();if(d||(d=r+z(e)),a=d-r,a<0&&(a=0),G(a),a===0){B(C);return}l&&(p=ee(x))}function $(e=!1){l&&!e||(l=!0,d=performance.now()+(a||z(s.time)),x())}function N(){l=!1,I(p)}function H(){d=0,l=!1,I(p),x()}return{showTime:w,timeData:S,n:Ce,start:$,pause:N,reset:H}}});function ye(s,w,S,d,l,p){return V(),P("div",{class:ae(s.n())},[te(s.$slots,"default",se(oe(s.timeData)),()=>[m(n(s.showTime),1)])],2)}const h=R(ge,[["render",ye]]);W(h);const ve={basicUsage:"基本使用",customFormat:"自定义格式",showMillisecond:"显示毫秒",customStyle:"自定义样式",manualControl:"手动控制",format:"DD 天 HH 时 mm 分 ss 秒",startText:"开始",pauseText:"暂停",resetText:"重置"},xe={basicUsage:"Basic Usage",customFormat:"Custom Format",showMillisecond:"Show Millisecond",customStyle:"Custom Style",manualControl:"Manual Control",format:"DD Day, HH:mm:ss",startText:"Start",pauseText:"Pause",resetText:"Reset"},{add:L,use:$e,pack:u,packs:Xe,merge:Ze}=pe(),Ne=s=>{Se(s),$e(s)};j("zh-CN",fe);j("en-US",_e);L("zh-CN",ve);L("en-US",xe);const O=s=>(re("data-v-41a60976"),s=s(),ie(),s),ke={class:"countdown-example-block"},Te=O(()=>y("span",{class:"countdown-example-colon"},":",-1)),Me={class:"countdown-example-block"},be=O(()=>y("span",{class:"countdown-example-colon"},":",-1)),De={class:"countdown-example-block"},Ue={__name:"index",setup(s){const w=v(null),S=v(3e3);function d(){ue.info("end!")}function l(){console.log("change")}return ne(Ne),le(de),(p,a)=>(V(),P(ce,null,[o(t(g),null,{default:i(()=>[m(n(t(u).basicUsage),1)]),_:1}),o(t(h),{time:"108000000"}),o(t(g),null,{default:i(()=>[m(n(t(u).customFormat),1)]),_:1}),o(t(h),{time:"108000000",format:t(u).format},null,8,["format"]),o(t(g),null,{default:i(()=>[m(n(t(u).showMillisecond),1)]),_:1}),o(t(h),{time:"108000000",format:"HH : mm : ss : SS"}),o(t(g),null,{default:i(()=>[m(n(t(u).customStyle),1)]),_:1}),o(t(h),{time:"108000000"},{default:i(c=>[y("span",ke,n(c.hours),1),Te,y("span",Me,n(c.minutes),1),be,y("span",De,n(c.seconds),1)]),_:1}),o(t(g),null,{default:i(()=>[m(n(t(u).manualControl),1)]),_:1}),o(t(h),{time:S.value,ref_key:"countdown",ref:w,"auto-start":!1,format:"ss : SSS",onEnd:d,onChange:l},null,8,["time"]),o(t(me),{justify:"space-between",align:"center",style:{"margin-top":"10px"}},{default:i(()=>[o(t(M),{type:"primary",onClick:a[0]||(a[0]=c=>p.$refs.countdown.start())},{default:i(()=>[m(n(t(u).startText),1)]),_:1}),o(t(M),{onClick:a[1]||(a[1]=c=>p.$refs.countdown.pause())},{default:i(()=>[m(n(t(u).pauseText),1)]),_:1}),o(t(M),{onClick:a[2]||(a[2]=c=>p.$refs.countdown.reset())},{default:i(()=>[m(n(t(u).resetText),1)]),_:1})]),_:1})],64))}},et=R(Ue,[["__scopeId","data-v-41a60976"]]);export{et as default};
