import{d as F,c as Y,b as B}from"./components-0f7ce565.js";import{k as E,j as Z}from"./elements-5ac8abc4.js";import{p as z}from"./shared-77348614.js";import{d as G,a as v,w as J,x as K,y as W,v as X,Z as I,_ as O,f as P,h as R,O as ee,P as m,Q as n,aN as te,aO as se,N as oe,ac as ae,aC as ne,q as o,S as i,ap as t,F as le,aD as y,M as g,al as ce,am as re}from"./vue-router.esm-bundler-bf00437c.js";import{S as ie}from"./index-3c508b6f.js";import{B as b}from"./index-d0ee5e75.js";import{R as ue}from"./index-4fe76f0c.js";import{d as me}from"./index-59604d2c.js";import{u as de,c as pe,a as V,_ as fe,b as _e}from"./index-07d28fa6.js";import"./index-cfa765fe.js";import"./index-416a42f9.js";import"./zIndex-f86a6cc8.js";import"./index-3bc957a3.js";import"./lock-b6656e1a.js";import"./index-d0a6b605.js";/* empty css               */import"./index-9a92b1d2.js";const Se={time:{type:[String,Number],default:0},format:{type:String,default:"HH : mm : ss"},autoStart:{type:Boolean,default:!0},onEnd:F(),onChange:F()},{n:he}=Y("countdown"),D=1e3,M=60*D,H=60*M,A=24*H,we=G({name:"VarCountdown",props:Se,setup(s){const w=v(""),h=v({days:0,hours:0,minutes:0,seconds:0,milliseconds:0});let d=0,l=!1,p=0,a=0,c;const q=(e,C)=>{const r=Object.values(C),N=["DD","HH","mm","ss"],T=[24,60,60,1e3];if(N.forEach((f,S)=>{e.includes(f)?e=e.replace(f,z(`${r[S]}`,2,"0")):r[S+1]+=r[S]*T[S]}),e.includes("S")){const f=z(`${r[r.length-1]}`,3,"0");e.includes("SSS")?e=e.replace("SSS",f):e.includes("SS")?e=e.replace("SS",f.slice(0,2)):e=e.replace("S",f.slice(0,1))}return e},Q=e=>{const C=Math.floor(e/A),r=Math.floor(e%A/H),N=Math.floor(e%H/M),T=Math.floor(e%M/D),f=Math.floor(e%D),S={days:C,hours:r,minutes:N,seconds:T,milliseconds:f};h.value=S,B(s.onChange,h.value),w.value=q(s.format,S)},x=()=>{const{time:e,onEnd:C}=s,r=performance.now();if(d||(d=r+I(e)),a=d-r,a<0&&(a=0),Q(a),a===0){B(C);return}l&&(p=Z(x))},$=(e=!1)=>{l&&!e||(l=!0,d=performance.now()+(a||I(s.time)),x())},k=()=>{l=!1,E(p)},U=()=>{d=0,l=!1,E(p),x()};return J(()=>s.time,()=>{U(),s.autoStart&&$()},{immediate:!0}),K(()=>{c!=null&&(l=c,l===!0&&$(!0))}),W(()=>{c=l,k()}),X(k),{showTime:w,timeData:h,n:he,start:$,pause:k,reset:U}}});function Ce(s,w,h,d,l,p){return P(),R("div",{class:oe(s.n())},[ee(s.$slots,"default",te(se(s.timeData)),()=>[m(n(s.showTime),1)])],2)}const _=O(we,[["render",Ce]]);_.install=function(s){s.component(_.name,_)};const ye={basicUsage:"基本使用",customFormat:"自定义格式",showMillisecond:"显示毫秒",customStyle:"自定义样式",manualControl:"手动控制",format:"DD 天 HH 时 mm 分 ss 秒",startText:"开始",pauseText:"暂停",resetText:"重置"},ge={basicUsage:"Basic Usage",customFormat:"Custom Format",showMillisecond:"Show Millisecond",customStyle:"Custom Style",manualControl:"Manual Control",format:"DD Day, HH:mm:ss",startText:"Start",pauseText:"Pause",resetText:"Reset"},{add:j,use:ve,pack:u,packs:Ye,merge:Ze}=de(),xe=s=>{pe(s),ve(s)};V("zh-CN",fe);V("en-US",_e);j("zh-CN",ye);j("en-US",ge);const L=s=>(ce("data-v-41a60976"),s=s(),re(),s),$e={class:"countdown-example-block"},ke=L(()=>g("span",{class:"countdown-example-colon"},":",-1)),Ne={class:"countdown-example-block"},Te=L(()=>g("span",{class:"countdown-example-colon"},":",-1)),be={class:"countdown-example-block"},De={setup(s){const w=v(null),h=v(3e3);function d(){ie.info("end!")}function l(){console.log("change")}return ae(xe),ne(me),(p,a)=>(P(),R(le,null,[o(t(y),null,{default:i(()=>[m(n(t(u).basicUsage),1)]),_:1}),o(t(_),{time:"108000000"}),o(t(y),null,{default:i(()=>[m(n(t(u).customFormat),1)]),_:1}),o(t(_),{time:"108000000",format:t(u).format},null,8,["format"]),o(t(y),null,{default:i(()=>[m(n(t(u).showMillisecond),1)]),_:1}),o(t(_),{time:"108000000",format:"HH : mm : ss : SS"}),o(t(y),null,{default:i(()=>[m(n(t(u).customStyle),1)]),_:1}),o(t(_),{time:"108000000"},{default:i(c=>[g("span",$e,n(c.hours),1),ke,g("span",Ne,n(c.minutes),1),Te,g("span",be,n(c.seconds),1)]),_:1}),o(t(y),null,{default:i(()=>[m(n(t(u).manualControl),1)]),_:1}),o(t(_),{time:h.value,ref_key:"countdown",ref:w,"auto-start":!1,format:"ss : SSS",onEnd:d,onChange:l},null,8,["time"]),o(t(ue),{justify:"space-between",align:"center",style:{"margin-top":"10px"}},{default:i(()=>[o(t(b),{type:"primary",onClick:a[0]||(a[0]=c=>p.$refs.countdown.start())},{default:i(()=>[m(n(t(u).startText),1)]),_:1}),o(t(b),{onClick:a[1]||(a[1]=c=>p.$refs.countdown.pause())},{default:i(()=>[m(n(t(u).pauseText),1)]),_:1}),o(t(b),{onClick:a[2]||(a[2]=c=>p.$refs.countdown.reset())},{default:i(()=>[m(n(t(u).resetText),1)]),_:1})]),_:1})],64))}},Ge=O(De,[["__scopeId","data-v-41a60976"]]);export{Ge as default};
