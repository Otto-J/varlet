import{a as Q,u as j,F as H}from"./provide-8be1530f.js";import{c as J,k as K,w as X}from"./logger-9a144f5d.js";import{d as Z,b as N,aS as ee,_ as F,f as S,h,O as R,N as A,M as D,q as s,an as e,n as ae,r as oe,a as $,aa as le,aC as se,S as n,F as te,P as u,Q as i,ak as re,al as ne}from"./vue-router-547718df.js";import{f as de,z as P,t as me,c as ue,l as ie}from"./elements-1fb47fa1.js";import{I as B}from"./index-ed43e0de.js";import{S as z}from"./index-17ae2e6e.js";import{O as y}from"./index-4f06e99f.js";import{C as pe}from"./index-e9e29b7d.js";import{C as T}from"./index-77fb378f.js";import{a as ce,R as L}from"./index-7f090420.js";import{B as M}from"./index-220522c5.js";import{S as ge}from"./index-0051fb5f.js";import{S as fe}from"./index-be155f49.js";import{U as ve}from"./index-1782c7e0.js";import{C as Ve}from"./index-1f0515e8.js";import{R as ye}from"./index-0ca2003d.js";import{S as O}from"./index-591c9b05.js";import{I as be}from"./index-6ea553c6.js";import{d as Me}from"./index-ea9abee8.js";import{u as _e,b as W,_ as ke,c as Ce,a as xe}from"./index-d39e90ed.js";import{A as w}from"./appType-610d2e23.js";import"./useChildren-05343878.js";import"./FieldDecorator-3a644028.js";import"./onWindowResize-4d20ed42.js";import"./index-0e7fc1fb.js";import"./usePopover-d6a9cdbb.js";import"./zIndex-d095b494.js";import"./index-89a3ce91.js";import"./index-026458c8.js";import"./index-fde800b6.js";/* empty css               */import"./index-ef9afa54.js";import"./index-d113846f.js";import"./index-f194146b.js";import"./index-d4a36d64.js";import"./lock-783c0ea8.js";import"./provide-c650129a.js";import"./index-e0cfb849.js";import"./index-5e001678.js";import"./provide-16c71a76.js";import"./onSmartUnmounted-610a74e1.js";import"./useTouch-4ef72608.js";import"./index-40ef7b08.js";const Ue={disabled:Boolean,readonly:Boolean,scrollToError:String,scrollToErrorOffsetY:{type:[String,Number],default:0}},{n:$e}=J("form"),Te=Z({name:"VarForm",props:Ue,setup(r){const t=N(()=>r.disabled),c=N(()=>r.readonly),{formItems:d,bindFormItems:f}=Q(),v=p=>{setTimeout(()=>{const m=de(p),g=m===window?0:P(m),V=P(p)-g-me(r.scrollToErrorOffsetY);ue(m,{top:V,animation:ie})},300)},l=async()=>{var m;const p=await Promise.all(d.map(({validate:g})=>g()));if(r.scrollToError){const[,g]=ee(p,b=>b===!1,r.scrollToError),V=g>-1;if(V){const b=(m=d[g].instance.proxy)==null?void 0:m.$el;v(b)}return!V}return p.every(g=>g===!0)},a=()=>d.forEach(({reset:p})=>p()),C=()=>d.forEach(({resetValidation:p})=>p());return f({disabled:t,readonly:c}),{n:$e,validate:l,reset:a,resetValidation:C}}});function we(r,t,c,d,f,v){return S(),h("div",{class:A(r.n())},[R(r.$slots,"default")],2)}const _=F(Te,[["render",we]]);_.useValidation=K;_.useForm=j;X(_);const Fe={__name:"CustomFormComponent",props:{modelValue:{type:Boolean},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},rules:{type:Array},validateTrigger:{type:Array,default:()=>["onToggle"]},extraMessage:{type:String}},emits:["update:modelValue"],setup(r,{expose:t,emit:c}){const d=r,{useForm:f,useValidation:v}=_,{errorMessage:l,validateWithTrigger:a,validate:C,resetValidation:x}=v(),{bindForm:p,form:m}=f(),g=()=>C(d.rules,d.modelValue);function V(){c("update:modelValue",!1),x()}function b(U){ae(()=>{const{validateTrigger:I,rules:k,modelValue:q}=d;a(I,U,k,q)})}function G(){d.readonly||d.disabled||m!=null&&m.readonly.value||m!=null&&m.disabled.value||(c("update:modelValue",!d.modelValue),b("onToggle"))}const E={reset:V,validate:g,resetValidation:x};return t(E),p==null||p(E),(U,I)=>{var k;return S(),h("div",{class:A(["var-custom-form-component",{"var-custom-form-component--disabled":r.disabled||((k=e(m))==null?void 0:k.disabled.value),"var-custom-form-component--error":e(l)}])},[D("div",{class:"var-custom-form-component__container",onClick:G},[s(e(be),{class:"var-custom-form-component__icon",name:r.modelValue?"checkbox-marked-circle":"close-circle",transition:250},null,8,["name"]),R(U.$slots,"default",{},void 0,!0)]),s(e(H),{"error-message":e(l),"extra-message":r.extraMessage},null,8,["error-message","extra-message"])],2)}}},Se=F(Fe,[["__scopeId","data-v-235f566f"]]),he={example:"表单示例",username:"请输入用户名",usernameMessage:"用户名不能为空",password:"请输入密码",passwordMessage:"请输入密码",department:"请选择部门",departmentMessage:"必须选一个部门",eat:"吃饭",sleep:"睡觉",play:"打游戏",departmentUnit:"部",group:"请选择组织",groupMessage:"至少选择一个组织",groupUnit:"组",genderMessage:"必须选择一个性别",male:"男",female:"女",rateMessage:"必须大于2",likeMessage:"至少选择一个爱好",licenseMessage:"您必须开启",countMessage:"必须大于10",rangeMessage:"必须大于10",filesMessage:"至少上传一张图片",customFormComponent:"自定义表单组件",customLabel:"点我切换",customErrorMessage:"必须是对勾",customExtraMessage:"附加信息",controller:"表单控制",reset:"清空表单",resetValidation:"清空验证",validate:"触发验证",disabled:"表单禁用",readonly:"表单只读"},Ee={example:"Form Example",username:"Please input username",usernameMessage:"The username cannot be empty",password:"Please input password",passwordMessage:"The password cannot be empty",department:"Please select department",departmentMessage:"The select cannot be empty",eat:"Eat",sleep:"Sleep",play:"Play game",departmentUnit:" department",group:"Please select group",groupMessage:"The select cannot be empty",groupUnit:" group",genderMessage:"The gender cannot be empty",male:"Male",female:"Female",rateMessage:"It has to be greater than 2",likeMessage:"The select cannot be empty",licenseMessage:"You must turn on",countMessage:"It has to be greater than 10",rangeMessage:"It has to be greater than 10",filesMessage:"Upload at least one picture",customFormComponent:"Custom Form Component",customLabel:"Click toggle",customErrorMessage:"Please check it",customExtraMessage:"Extra message",controller:"Form control",reset:"Empty form",resetValidation:"Empty the validation",validate:"Trigger validation",disabled:"Form disabled",readonly:"Form readonly"},{add:Y,use:Ie,pack:o,packs:Ta,merge:wa}=_e(),Ne=r=>{xe(r),Ie(r)};W("zh-CN",ke);W("en-US",Ce);Y("zh-CN",he);Y("en-US",Ee);const Pe=r=>(re("data-v-9da29a7c"),r=r(),ne(),r),Be=Pe(()=>D("div",{class:"space"},null,-1)),ze={__name:"index",setup(r){const t=oe({username:"",password:"",department:"",gender:void 0,license:!1,range:0,count:0,group:[],score:0,like:[],files:[],custom:!1}),c=$(null),d=$(!1),f=$(!1);return le(v=>{var l;Ne(v),(l=c.value)==null||l.reset()}),se(Me),(v,l)=>(S(),h(te,null,[s(e(w),null,{default:n(()=>[u(i(e(o).example),1)]),_:1}),s(e(_),{ref_key:"form",ref:c,disabled:d.value,readonly:f.value,"scroll-to-error":"start","scroll-to-error-offset-y":"14.4vmin"},{default:n(()=>[s(e(O),{direction:"column",size:["4vmin",0]},{default:n(()=>[s(e(B),{placeholder:e(o).username,rules:[a=>!!a||e(o).usernameMessage],modelValue:t.username,"onUpdate:modelValue":l[0]||(l[0]=a=>t.username=a)},null,8,["placeholder","rules","modelValue"]),s(e(B),{type:"password",placeholder:e(o).password,rules:[a=>!!a||e(o).passwordMessage],modelValue:t.password,"onUpdate:modelValue":l[1]||(l[1]=a=>t.password=a)},null,8,["placeholder","rules","modelValue"]),s(e(z),{placeholder:e(o).department,rules:[a=>!!a||e(o).departmentMessage],modelValue:t.department,"onUpdate:modelValue":l[2]||(l[2]=a=>t.department=a)},{default:n(()=>[s(e(y),{label:`${e(o).eat}${e(o).departmentUnit}`},null,8,["label"]),s(e(y),{label:`${e(o).sleep}${e(o).departmentUnit}`},null,8,["label"]),s(e(y),{label:`${e(o).play}${e(o).departmentUnit}`},null,8,["label"])]),_:1},8,["placeholder","rules","modelValue"]),s(e(z),{multiple:"",placeholder:e(o).group,rules:[a=>a.length>=1||e(o).groupMessage],modelValue:t.group,"onUpdate:modelValue":l[3]||(l[3]=a=>t.group=a)},{default:n(()=>[s(e(y),{label:`${e(o).eat}${e(o).groupUnit}`},null,8,["label"]),s(e(y),{label:`${e(o).sleep}${e(o).groupUnit}`},null,8,["label"]),s(e(y),{label:`${e(o).play}${e(o).groupUnit}`},null,8,["label"])]),_:1},8,["placeholder","rules","modelValue"]),s(e(ce),{rules:[a=>!!a||e(o).genderMessage],modelValue:t.gender,"onUpdate:modelValue":l[4]||(l[4]=a=>t.gender=a)},{default:n(()=>[s(e(L),{"checked-value":1},{default:n(()=>[u(i(e(o).male),1)]),_:1}),s(e(L),{"checked-value":2},{default:n(()=>[u(i(e(o).female),1)]),_:1})]),_:1},8,["rules","modelValue"]),s(e(pe),{rules:[a=>a.length>0||e(o).likeMessage],modelValue:t.like,"onUpdate:modelValue":l[5]||(l[5]=a=>t.like=a)},{default:n(()=>[s(e(T),{"checked-value":1},{default:n(()=>[u(i(e(o).eat),1)]),_:1}),s(e(T),{"checked-value":2},{default:n(()=>[u(i(e(o).sleep),1)]),_:1}),s(e(T),{"checked-value":3},{default:n(()=>[u(i(e(o).play),1)]),_:1})]),_:1},8,["rules","modelValue"]),s(e(ye),{rules:[a=>a>=3||e(o).rateMessage],modelValue:t.score,"onUpdate:modelValue":l[6]||(l[6]=a=>t.score=a)},null,8,["rules","modelValue"]),s(e(ge),{rules:[a=>!!a||e(o).licenseMessage],modelValue:t.license,"onUpdate:modelValue":l[7]||(l[7]=a=>t.license=a)},null,8,["rules","modelValue"]),s(e(Ve),{rules:[a=>a>10||e(o).countMessage],modelValue:t.count,"onUpdate:modelValue":l[8]||(l[8]=a=>t.count=a)},null,8,["rules","modelValue"]),s(e(fe),{rules:[a=>a>10||e(o).rangeMessage],modelValue:t.range,"onUpdate:modelValue":l[9]||(l[9]=a=>t.range=a)},null,8,["rules","modelValue"]),s(e(ve),{rules:[a=>a.length>=1||e(o).filesMessage],modelValue:t.files,"onUpdate:modelValue":l[10]||(l[10]=a=>t.files=a)},null,8,["rules","modelValue"])]),_:1}),s(e(w),null,{default:n(()=>[u(i(e(o).customFormComponent),1)]),_:1}),s(e(Se),{"extra-message":e(o).customExtraMessage,rules:[a=>!!a||e(o).customErrorMessage],modelValue:t.custom,"onUpdate:modelValue":l[11]||(l[11]=a=>t.custom=a)},{default:n(()=>[u(i(e(o).customLabel),1)]),_:1},8,["extra-message","rules","modelValue"])]),_:1},8,["disabled","readonly"]),s(e(w),null,{default:n(()=>[u(i(e(o).controller),1)]),_:1}),s(e(O),{direction:"column",size:["4vmin",0]},{default:n(()=>[s(e(M),{block:"",type:"danger",onClick:l[12]||(l[12]=a=>c.value.reset())},{default:n(()=>[u(i(e(o).reset),1)]),_:1}),s(e(M),{block:"",type:"warning",onClick:l[13]||(l[13]=a=>c.value.resetValidation())},{default:n(()=>[u(i(e(o).resetValidation),1)]),_:1}),s(e(M),{block:"",type:"success",onClick:l[14]||(l[14]=a=>c.value.validate())},{default:n(()=>[u(i(e(o).validate),1)]),_:1}),s(e(M),{block:"",type:"info",onClick:l[15]||(l[15]=a=>d.value=!d.value)},{default:n(()=>[u(i(e(o).disabled),1)]),_:1}),s(e(M),{block:"",type:"primary",onClick:l[16]||(l[16]=a=>f.value=!f.value)},{default:n(()=>[u(i(e(o).readonly),1)]),_:1})]),_:1}),Be],64))}},Fa=F(ze,[["__scopeId","data-v-9da29a7c"]]);export{Fa as default};
