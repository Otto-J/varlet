import{d as B,g as C,j as H,c as I,b as P}from"./components-fe6f9a05.js";import{t as R,r as O,d as V,g as j}from"./elements-9a8e8a45.js";import{d as D,a as o,b as p,w as U,v as Z,y as q,Z as A,_ as G,f as J,h as K,M as Q,O as X,N as F,R as T}from"./vue-router.esm-bundler-2ca71151.js";const Y={offsetTop:{type:[String,Number],default:0},zIndex:{type:[String,Number],default:10},cssMode:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},onScroll:B()},{n:_,classes:ee}=I("sticky"),oe=D({name:"VarSticky",props:Y,setup(e){const n=o(null),l=o(null),t=o(!1),r=o("0px"),f=o("0px"),m=o("auto"),b=o("auto"),h=o("auto"),x=o("auto"),$=p(()=>!e.disabled&&e.cssMode),k=p(()=>!e.disabled&&!e.cssMode&&t.value),i=p(()=>R(e.offsetTop));let s;const y=()=>{const{cssMode:a,disabled:L}=e;if(L)return;let c=0;if(s!==window){const{top:E}=s.getBoundingClientRect();c=E}const w=l.value,u=n.value,{top:N,left:z}=u.getBoundingClientRect(),M=N-c;return M<=i.value?(a||(m.value=`${u.offsetWidth}px`,b.value=`${u.offsetHeight}px`,r.value=`${c+i.value}px`,f.value=`${z}px`,h.value=`${w.offsetWidth}px`,x.value=`${w.offsetHeight}px`,t.value=!0),{offsetTop:i.value,isFixed:!0}):(t.value=!1,{offsetTop:M,isFixed:!1})},d=()=>{if(!s)return;const a=y();a&&P(e.onScroll,a.offsetTop,a.isFixed)},S=async()=>{t.value=!1,await O(),y()},W=async()=>{await V(),s=j(n.value),s!==window&&s.addEventListener("scroll",d),d()},g=()=>{s!==window&&s.removeEventListener("scroll",d)};return U(()=>e.disabled,S),C(W),Z(g),q(g),H(window,"scroll",d),{n:_,classes:ee,resize:S,stickyEl:n,wrapperEl:l,isFixed:t,offsetTop:i,fixedTop:r,fixedLeft:f,fixedWidth:m,fixedHeight:b,fixedWrapperWidth:h,fixedWrapperHeight:x,enableCSSMode:$,enableFixedMode:k,toNumber:A}}});function se(e,n,l,t,r,f){return J(),K("div",{class:F(e.classes(e.n(),[e.enableCSSMode,e.n("--css-mode")])),ref:"stickyEl",style:T({zIndex:e.toNumber(e.zIndex),top:e.enableCSSMode?`${e.offsetTop}px`:void 0,width:e.enableFixedMode?e.fixedWidth:void 0,height:e.enableFixedMode?e.fixedHeight:void 0})},[Q("div",{class:F(e.n("wrapper")),ref:"wrapperEl",style:T({zIndex:e.toNumber(e.zIndex),position:e.enableFixedMode?"fixed":void 0,width:e.enableFixedMode?e.fixedWrapperWidth:void 0,height:e.enableFixedMode?e.fixedWrapperHeight:void 0,left:e.enableFixedMode?e.fixedLeft:void 0,top:e.enableFixedMode?e.fixedTop:void 0})},[X(e.$slots,"default")],6)],6)}const v=G(oe,[["render",se]]);v.install=function(e){e.component(v.name,v)};export{v as S,Y as p};
