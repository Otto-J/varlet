import{B as me}from"./index-22ec8f4f.js";import{d as _,o as ve,c as j,a as S,w as W,u as de,e as fe}from"./logger-5f6a195b.js";import{u as ge}from"./useChildren-24c77be1.js";import{d as Z,a as d,b as U,w as G,aj as pe,aO as Ce,X as he,_ as x,p as R,f as $,h as F,O as w,i as M,S as b,m as ee,j as O,N as L,R as ae,ag as Ne,D as ye,M as Be,F as le,P as B,Q as k,ac as ke,aD as Ie,q as l,ao as e}from"./vue-router-14238f57.js";import{v as Se}from"./index-fc3e2a6c.js";import{B as $e}from"./index-37775360.js";import{I as te}from"./index-e1086453.js";import{S as Y}from"./index-9c04fd4b.js";import{d as Ae}from"./index-a0438c78.js";import{u as Ee,b as ne,_ as Pe,c as Te,a as _e}from"./index-d00a0f8a.js";import{A as E}from"./appType-41252aac.js";import"./index-e2eca1df.js";import"./elements-53ac7962.js";import"./index-0737eb47.js";import"./index-97c70489.js";import"./index-01a19db2.js";/* empty css               */import"./zIndex-70c5d270.js";import"./lock-92a0d819.js";const Ue={active:{type:[Number,String],default:0},fixed:{type:Boolean,default:!1},border:{type:Boolean,default:!1},safeArea:{type:Boolean,default:!1},zIndex:{type:[Number,String],default:1},activeColor:{type:String},inactiveColor:{type:String},onChange:_(),"onUpdate:active":_(),onBeforeChange:_(),onFabClick:_(),fabProps:{type:Object}},oe=Symbol("BOTTOM_NAVIGATION_BIND_BOTTOM_NAVIGATION_ITEM_KEY");function Oe(){const{childProviders:a,length:s,bindChildren:c}=ge(oe);return{length:s,bottomNavigationItems:a,bindBottomNavigationItem:c}}const{n:Le,classes:Fe}=j("bottom-navigation"),{n:z}=j("bottom-navigation-item"),Q=z("--right-half-space"),X=z("--left-half-space"),J=z("--right-space"),we={type:"primary"},Me=Z({name:"VarBottomNavigation",components:{VarButton:me},props:Ue,setup(a,{slots:s}){const c=d(null),m=U(()=>a.active),f=U(()=>a.activeColor),p=U(()=>a.inactiveColor),v=d({}),{length:r,bottomNavigationItems:C,bindBottomNavigationItem:h}=Oe(),P=()=>{r.value===0||N()||y()||o()},N=()=>C.find(({name:i})=>m.value===i.value),y=()=>C.find(({index:i})=>m.value===i.value),o=()=>{he(m.value)&&(m.value<0?S(a["onUpdate:active"],0):m.value>r.value-1&&S(a["onUpdate:active"],r.value-1))},u=i=>{m.value!==i&&(a.onBeforeChange?se(i):H(i))},se=i=>{const g=Ce(S(a.onBeforeChange,i));Promise.all(g).then(A=>{A.every(Boolean)&&H(i)})},H=i=>{S(a["onUpdate:active"],i),S(a.onChange,i)},ce=()=>{K().forEach(g=>{g.classList.remove(Q,X,J)})},q=i=>{const g=K(),A=g.length,T=i%2===0;g.forEach((D,V)=>{re(T,D,V,A)})},re=(i,g,A,T)=>{const D=A===T-1;if(!i&&D){g.classList.add(J);return}const V=A===T/2-1,be=A===T/2;V?g.classList.add(Q):be&&g.classList.add(X)},K=()=>Array.from(c.value.querySelectorAll(`.${z()}`)),ue=()=>{S(a.onFabClick)};return h({active:m,activeColor:f,inactiveColor:p,onToggle:u}),G(()=>r.value,P),G(()=>a.fabProps,i=>{v.value={...we,...i}},{immediate:!0,deep:!0}),ve(()=>{s.fab&&q(r.value)}),pe(()=>{ce(),s.fab&&q(r.value)}),{n:Le,classes:Fe,length:r,bottomNavigationDom:c,handleFabClick:ue,fabProps:v}}});function ze(a,s,c,m,f,p){const v=R("var-button");return $(),F("div",{class:L(a.classes(a.n(),a.n("$--box"),[a.fixed,a.n("--fixed")],[a.border,a.n("--border")],[a.safeArea,a.n("--safe-area")])),ref:"bottomNavigationDom",style:ae(`z-index:${a.zIndex}`)},[w(a.$slots,"default"),a.$slots.fab?($(),M(v,ee({key:0,class:a.classes(a.n("fab"),[a.length%2,a.n("--fab-right"),a.n("--fab-center")]),"var-bottom-navigation__fab":"",onClick:a.handleFabClick},a.fabProps,{round:""}),{default:b(()=>[w(a.$slots,"fab")]),_:3},16,["class","onClick"])):O("",!0)],6)}const I=x(Me,[["render",ze]]);W(I);const De={name:{type:String},icon:{type:String},label:{type:String},namespace:{type:String,default:"var-icon"},badge:{type:[Boolean,Object],default:!1},onClick:_()};function Ve(){const{parentProvider:a,index:s,bindParent:c}=de(oe);return c||fe("BottomNavigationItem","<var-bottom-navigation-item/> must in <var-bottom-navigation/>"),{index:s,bottomNavigation:a,bindBottomNavigation:c}}const{n:Ge,classes:Re}=j("bottom-navigation-item"),je={type:"danger",dot:!0},He=Z({name:"VarBottomNavigationItem",components:{VarBadge:$e,VarIcon:te},directives:{Ripple:Se},props:De,setup(a){const s=U(()=>a.name),c=U(()=>a.badge),m=d({}),{index:f,bottomNavigation:p,bindBottomNavigation:v}=Ve(),{active:r,activeColor:C,inactiveColor:h}=p,P={name:s,index:f},N=()=>r.value===s.value||r.value===f.value?C.value:h.value,y=()=>{const o=s.value??f.value;S(a.onClick,o),S(p.onToggle,o)};return v(P),G(()=>c.value,o=>{m.value=o===!0?je:c.value},{immediate:!0}),{n:Ge,classes:Re,index:f,active:r,badge:c,badgeProps:m,computeColorStyle:N,handleClick:y}}});function qe(a,s,c,m,f,p){const v=R("var-icon"),r=R("var-badge"),C=Ne("ripple");return ye(($(),F("button",{class:L(a.classes(a.n(),a.n("$--box"),[a.active===a.index||a.active===a.name,a.n("--active")])),style:ae({color:a.computeColorStyle()}),onClick:s[0]||(s[0]=(...h)=>a.handleClick&&a.handleClick(...h))},[a.icon&&!a.$slots.icon?($(),M(v,{key:0,name:a.icon,namespace:a.namespace,class:L(a.n("icon")),"var-bottom-navigation-item-cover":""},null,8,["name","namespace","class"])):O("",!0),w(a.$slots,"icon",{active:a.active===a.index||a.active===a.name}),a.badge?($(),M(r,ee({key:1},a.badgeProps,{class:a.n("badge"),"var-bottom-navigation-item-cover":""}),null,16,["class"])):O("",!0),Be("span",{class:L(a.n("label"))},[a.$slots.default?O("",!0):($(),F(le,{key:0},[B(k(a.label),1)],64)),w(a.$slots,"default")],2)],6)),[[C]])}const n=x(He,[["render",qe]]);W(n);const Ke={basicUsage:"基本使用",matchByName:"通过名称匹配",showBadge:"徽标提示",customColor:"自定义颜色",changeEvent:"监听切换事件",clickEvent:"监听点击事件",fab:"悬浮按钮",label:"标签"},Ye={basicUsage:"Basic Usage",matchByName:"Match by name",showBadge:"Show Badge",customColor:"Custom Color",changeEvent:"Change Event",clickEvent:"Click Event",fab:"Fab",label:"label"},{add:ie,use:Qe,pack:t,packs:ga,merge:pa}=Ee(),Xe=a=>{_e(a),Qe(a)};ne("zh-CN",Pe);ne("en-US",Te);ie("zh-CN",Ke);ie("en-US",Ye);const Ca={__name:"index",setup(a){const s=d(0),c=d("home"),m=d(0),f={type:"primary",value:"66"},p=d(0),v=d(0),r=d(0),C=d(0),h=d(!0);function P(y){Y.info(`changed to ${y}`)}function N(y){Y.success(`clicked ${y}`)}return ke(Xe),Ie(Ae),(y,o)=>($(),F(le,null,[l(e(E),null,{default:b(()=>[B(k(e(t).basicUsage),1)]),_:1}),l(e(I),{active:s.value,"onUpdate:active":o[0]||(o[0]=u=>s.value=u)},{default:b(()=>[l(e(n),{label:e(t).label,icon:"home"},null,8,["label"]),l(e(n),{label:e(t).label,icon:"magnify"},null,8,["label"]),l(e(n),{label:e(t).label,icon:"heart"},null,8,["label"]),l(e(n),{label:e(t).label,icon:"account-circle"},null,8,["label"])]),_:1},8,["active"]),l(e(E),null,{default:b(()=>[B(k(e(t).matchByName),1)]),_:1}),l(e(I),{active:c.value,"onUpdate:active":o[1]||(o[1]=u=>c.value=u)},{default:b(()=>[l(e(n),{name:"home",label:e(t).label,icon:"home"},null,8,["label"]),l(e(n),{name:"search",label:e(t).label,icon:"magnify"},null,8,["label"]),l(e(n),{name:"heart",label:e(t).label,icon:"heart"},null,8,["label"]),l(e(n),{name:"user",label:e(t).label,icon:"account-circle"},null,8,["label"])]),_:1},8,["active"]),l(e(E),null,{default:b(()=>[B(k(e(t).showBadge),1)]),_:1}),l(e(I),{active:m.value,"onUpdate:active":o[2]||(o[2]=u=>m.value=u)},{default:b(()=>[l(e(n),{label:e(t).label,icon:"home"},null,8,["label"]),l(e(n),{label:e(t).label,icon:"magnify",badge:""},null,8,["label"]),l(e(n),{label:e(t).label,icon:"heart",badge:f},null,8,["label"]),l(e(n),{label:e(t).label,icon:"account-circle"},null,8,["label"])]),_:1},8,["active"]),l(e(E),null,{default:b(()=>[B(k(e(t).customColor),1)]),_:1}),l(e(I),{"active-color":"#ba68c8",active:p.value,"onUpdate:active":o[3]||(o[3]=u=>p.value=u)},{default:b(()=>[l(e(n),{label:e(t).label,icon:"home"},null,8,["label"]),l(e(n),{label:e(t).label,icon:"magnify"},null,8,["label"]),l(e(n),{label:e(t).label,icon:"heart"},null,8,["label"]),l(e(n),{label:e(t).label,icon:"account-circle"},null,8,["label"])]),_:1},8,["active"]),l(e(E),null,{default:b(()=>[B(k(e(t).changeEvent),1)]),_:1}),l(e(I),{active:v.value,"onUpdate:active":o[4]||(o[4]=u=>v.value=u),onChange:P},{default:b(()=>[l(e(n),{label:e(t).label,icon:"home"},null,8,["label"]),l(e(n),{label:e(t).label,icon:"magnify"},null,8,["label"]),l(e(n),{label:e(t).label,icon:"heart"},null,8,["label"]),l(e(n),{label:e(t).label,icon:"account-circle"},null,8,["label"])]),_:1},8,["active"]),l(e(E),null,{default:b(()=>[B(k(e(t).clickEvent),1)]),_:1}),l(e(I),{active:r.value,"onUpdate:active":o[5]||(o[5]=u=>r.value=u)},{default:b(()=>[l(e(n),{onClick:N,label:e(t).label,icon:"home"},null,8,["label"]),l(e(n),{onClick:N,label:e(t).label,icon:"magnify"},null,8,["label"]),l(e(n),{onClick:N,label:e(t).label,icon:"heart"},null,8,["label"]),l(e(n),{onClick:N,label:e(t).label,icon:"account-circle"},null,8,["label"])]),_:1},8,["active"]),l(e(E),null,{default:b(()=>[B(k(e(t).fab),1)]),_:1}),l(e(I),{active:C.value,"onUpdate:active":o[6]||(o[6]=u=>C.value=u),onFabClick:o[7]||(o[7]=u=>h.value=!h.value),style:{"margin-top":"10px"}},{fab:b(()=>[l(e(te),{name:"heart"})]),default:b(()=>[l(e(n),{label:e(t).label,icon:"home"},null,8,["label"]),l(e(n),{label:e(t).label,icon:"magnify"},null,8,["label"]),l(e(n),{label:e(t).label,icon:"heart"},null,8,["label"]),l(e(n),{label:e(t).label,icon:"bell"},null,8,["label"]),h.value?O("",!0):($(),M(e(n),{key:0,label:e(t).label,icon:"account-circle"},null,8,["label"]))]),_:1},8,["active"])],64))}};export{Ca as default};
