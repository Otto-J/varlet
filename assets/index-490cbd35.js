import{d as H,c as q,a as O,u as J,f as R}from"./components-092ce17a.js";import{u as X}from"./useChildren-36e9566e.js";import{d as K,b as _,w as B,n as F,ax as M,_ as Y,f as k,h as L,O as T,N as C,a as N,p as Z,M as y,P as u,Q as m,q as s,D as x,H as ee,r as te,ac as le,aC as ae,S as o,ap as t,F as ne,aD as S}from"./vue-router.esm-bundler-1e250ce9.js";import{j as U,n as oe}from"./elements-13df10c1.js";import{e as se}from"./logger-525ef361.js";import{I as ie}from"./index-ed7191f6.js";import{B as re}from"./index-426f7e3a.js";import{S as de}from"./index-900b9ef1.js";import{d as ue}from"./index-59604d2c.js";import{u as ce,c as me,a as j,_ as fe,b as ve}from"./index-5cbfee55.js";import"./shared-ed6496a2.js";import"./index-b1bb7756.js";import"./index-fecbe149.js";/* empty css               */import"./index-1f55ed30.js";import"./index-c7d7b5f9.js";import"./index-4b4d9cf6.js";const Q=Symbol("COLLAPSE_BIND_COLLAPSE_ITEM_KEY");function pe(){const{childProviders:e,length:i,bindChildren:n}=X(Q);return{length:i,collapseItem:e,bindCollapseItem:n}}const he={modelValue:{type:[Array,String,Number]},accordion:{type:Boolean,default:!1},offset:{type:Boolean,default:!0},elevation:{type:[Boolean,String,Number],default:!0},onChange:H(),"onUpdate:modelValue":H()},{n:Ce}=q("collapse"),ge=K({name:"VarCollapse",props:he,setup(e){const{length:i,collapseItem:n,bindCollapseItem:b}=pe(),p=_(()=>e.modelValue),l=_(()=>e.offset),c=_(()=>e.elevation),f=()=>!e.accordion&&!M(e.modelValue)?(console.error('[Varlet] Collapse: type of prop "modelValue" should be an Array'),!1):e.accordion&&M(e.modelValue)?(console.error('[Varlet] Collapse: type of prop "modelValue" should be a String or Number'),!1):!0,I=(r,d)=>f()?d?e.accordion?r:[...e.modelValue,r]:e.accordion?null:e.modelValue.filter(g=>g!==r):null,P=(r,d)=>{const g=I(r,d);O(e["onUpdate:modelValue"],g),O(e.onChange,g)},w=()=>{if(e.accordion)return n.find(({name:d})=>e.modelValue===d.value);const r=n.filter(({name:d})=>d.value===void 0?!1:e.modelValue.includes(d.value));return r.length?r:void 0},E=()=>e.accordion?n.find(({index:r,name:d})=>d.value===void 0&&e.modelValue===r.value):n.filter(({index:r,name:d})=>d.value===void 0&&e.modelValue.includes(r.value)),$=()=>{if(!f())return;const r=w()||E();if(e.accordion&&!r||!e.accordion&&!r.length){n.forEach(d=>{d.init(e.accordion,!1)});return}n.forEach(d=>{const g=e.accordion?r===d:r.includes(d);d.init(e.accordion,g)})};return b({active:p,offset:l,elevation:c,updateItem:P}),B(()=>i.value,()=>F().then($)),B(()=>e.modelValue,()=>F().then($)),{n:Ce}}});function Ve(e,i,n,b,p,l){return k(),L("div",{class:C(e.n())},[T(e.$slots,"default")],2)}const V=Y(ge,[["render",Ve]]);V.install=function(e){e.component(V.name,V)};function be(){const{parentProvider:e,index:i,bindParent:n}=J(Q);return n||se("Collapse","<var-collapse-item/> must in <var-collapse>"),{index:i,collapse:e,bindCollapse:n}}const ye={name:{type:[String,Number]},title:{type:String},icon:{type:String,default:"chevron-down"},disabled:{type:Boolean,default:!1}},{n:Se,classes:Ie}=q("collapse-item"),$e=K({name:"VarCollapseItem",components:{VarIcon:ie},props:ye,setup(e){const{index:i,collapse:n,bindCollapse:b}=be();let p=!0;const l=N(null),c=N(!1),f=N(!1),{active:I,offset:P,elevation:w,updateItem:E}=n,$=_(()=>e.name),A=(h,z)=>{I.value===void 0||h&&M(I.value)||z===f.value||(f.value=z,r(!0))},r=h=>{e.disabled||h||E(e.name||i.value,!f.value)},d=()=>{l.value&&(l.value.style.height="",c.value=!0,U(()=>{const{offsetHeight:h}=l.value;l.value.style.height=0+"px",U(()=>{l.value.style.height=h+"px",p&&oe(()=>{p&&D()})})}))},g=()=>{p=!1},G=()=>{if(!l.value)return;const{offsetHeight:h}=l.value;l.value.style.height=h+"px",U(()=>{l.value.style.height=0+"px"})},D=()=>{f.value||(c.value=!1),l.value.style.height=""};return b({index:i,name:$,init:A}),B(f,h=>{h?d():G()}),{n:Se,start:g,classes:Ie,showContent:c,isShow:f,offset:P,elevation:w,toggle:r,contentEl:l,transitionend:D,formatElevation:R}}});function _e(e,i,n,b,p,l){const c=Z("var-icon");return k(),L("div",{class:C(e.classes(e.n(),[e.offset&&e.isShow,e.n("--active")],[e.disabled,e.n("--disable")]))},[y("div",{class:C(e.classes(e.n("shadow"),e.formatElevation(e.elevation,2)))},null,2),y("div",{class:C(e.n("header")),onClick:i[0]||(i[0]=f=>e.toggle())},[y("div",{class:C(e.n("header-title"))},[T(e.$slots,"title",{},()=>[u(m(e.title),1)])],2),y("div",{class:C(e.n("header-icon"))},[T(e.$slots,"icon",{},()=>[s(c,{name:e.icon,transition:250,class:C(e.classes(e.n("header-icon"),[e.isShow&&e.icon==="chevron-down",e.n("header-open")],[e.disabled,e.n("header--disable")]))},null,8,["name","class"])])],2)],2),x(y("div",{class:C(e.n("content")),ref:"contentEl",onTransitionend:i[1]||(i[1]=(...f)=>e.transitionend&&e.transitionend(...f)),onTransitionstart:i[2]||(i[2]=(...f)=>e.start&&e.start(...f))},[y("div",{class:C(e.n("content-wrap"))},[T(e.$slots,"default")],2)],34),[[ee,e.showContent]])],2)}const v=Y($e,[["render",_e]]);v.install=function(e){e.component(v.name,v)};const Te={basicUsage:"基本使用",hideMargin:"隐藏边距",accordionMode:"手风琴模式",disabled:"禁用",enable:"启用",customContent:"自定义内容",title:"标题",text:"文本",slotTitle:"这是标题",slotContent:"这是内容"},Ne={basicUsage:"Basic Usage",hideMargin:"Hide Margin",accordionMode:"Accordion Mode",disabled:"Disabled",enable:"Enable",customContent:"Custom Content",title:"Title",text:"Hello World",slotTitle:"This is a Title",slotContent:"This is a content"},{add:W,use:Pe,pack:a,packs:Je,merge:Re}=ce(),we=e=>{me(e),Pe(e)};j("zh-CN",fe);j("en-US",ve);W("zh-CN",Te);W("en-US",Ne);const Ee=u("^_^"),Xe={setup(e){const i=N(!1),n=te({value:["1"],value1:"",value2:[1],value3:["1"],value4:["2"]});function b(p){console.log(p)}return le(we),ae(ue),(p,l)=>(k(),L(ne,null,[s(t(S),null,{default:o(()=>[u(m(t(a).basicUsage),1)]),_:1}),s(t(V),{modelValue:t(n).value,"onUpdate:modelValue":l[0]||(l[0]=c=>t(n).value=c),onChange:b},{default:o(()=>[s(t(v),{title:t(a).title,name:"1"},{default:o(()=>[u(m(t(a).text),1)]),_:1},8,["title"]),s(t(v),{title:t(a).title,name:"2"},{default:o(()=>[u(m(t(a).text),1)]),_:1},8,["title"])]),_:1},8,["modelValue"]),s(t(S),null,{default:o(()=>[u(m(t(a).hideMargin),1)]),_:1}),s(t(V),{modelValue:t(n).value4,"onUpdate:modelValue":l[1]||(l[1]=c=>t(n).value4=c),offset:!1},{default:o(()=>[s(t(v),{title:t(a).title,name:"1"},{default:o(()=>[u(m(t(a).text),1)]),_:1},8,["title"]),s(t(v),{title:t(a).title,name:"2"},{default:o(()=>[u(m(t(a).text),1)]),_:1},8,["title"])]),_:1},8,["modelValue"]),s(t(S),null,{default:o(()=>[u(m(t(a).accordionMode),1)]),_:1}),s(t(V),{modelValue:t(n).value1,"onUpdate:modelValue":l[2]||(l[2]=c=>t(n).value1=c),accordion:"",offset:!1},{default:o(()=>[s(t(v),{title:t(a).title,name:"1"},{default:o(()=>[u(m(t(a).text),1)]),_:1},8,["title"]),s(t(v),{title:t(a).title,name:"2"},{default:o(()=>[u(m(t(a).text),1)]),_:1},8,["title"])]),_:1},8,["modelValue"]),s(t(S),null,{default:o(()=>[u(m(t(a).disabled),1)]),_:1}),s(t(de),{direction:"column",size:[8,8]},{default:o(()=>[s(t(re),{onClick:l[3]||(l[3]=c=>i.value=!i.value)},{default:o(()=>[u(m(i.value?t(a).enable:t(a).disabled),1)]),_:1}),s(t(V),{modelValue:t(n).value2,"onUpdate:modelValue":l[4]||(l[4]=c=>t(n).value2=c)},{default:o(()=>[s(t(v),{title:t(a).title,name:1,disabled:i.value},{default:o(()=>[u(m(t(a).text),1)]),_:1},8,["title","disabled"]),s(t(v),{title:t(a).title,name:2,disabled:i.value},{default:o(()=>[u(m(t(a).text),1)]),_:1},8,["title","disabled"])]),_:1},8,["modelValue"])]),_:1}),s(t(S),null,{default:o(()=>[u(m(t(a).customContent),1)]),_:1}),s(t(V),{modelValue:t(n).value3,"onUpdate:modelValue":l[5]||(l[5]=c=>t(n).value3=c)},{default:o(()=>[s(t(v),{title:t(a).slotTitle,name:"1",icon:"account-circle"},{default:o(()=>[u(m(t(a).text),1)]),_:1},8,["title"]),s(t(v),{name:"2"},{title:o(()=>[u(m(t(a).slotTitle),1)]),icon:o(()=>[Ee]),default:o(()=>[u(" "+m(t(a).slotContent),1)]),_:1})]),_:1},8,["modelValue"])],64))}};export{Xe as default};
