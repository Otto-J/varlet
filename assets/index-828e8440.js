import{d as N,c as H,a as R,j as J,w as K}from"./components-2d7bbda7.js";import{a as X,u as Z,F as ee}from"./provide-70e1e134.js";import{d as ae,b as B,a_ as oe,_ as F,f as E,h as I,O as W,N as Y,M as G,q as t,an as e,n as le,r as te,a as T,aa as se,aE as re,S as n,F as ne,P as u,Q as i,ak as de,al as me}from"./vue-router-eb3be2d7.js";import{g as ue,h as z,t as ie,s as pe}from"./elements-a3437ac0.js";import{l as ce}from"./shared-3c03a73d.js";import{I as D}from"./index-d44badf3.js";import{S as L}from"./index-cf8448f5.js";import{O as M}from"./index-205c1e69.js";import{C as ge}from"./index-190ae64a.js";import{C as h}from"./index-53c9533a.js";import{a as fe,R as O}from"./index-cf8ad92e.js";import{B as C}from"./index-dadc3162.js";import{S as ve}from"./index-1dedd0c2.js";import{S as Ve}from"./index-81a6cbdf.js";import{U as be}from"./index-d9c3fd4f.js";import{C as ye}from"./index-f66524ba.js";import{R as Me}from"./index-a69f6d37.js";import{S as A}from"./index-4051dd57.js";import{I as ke}from"./index-94f6efd5.js";import{d as _e}from"./index-ea9abee8.js";import{u as Ce,b as j,_ as xe,c as Ue,a as Se}from"./index-f55a9291.js";import{A as w}from"./appType-d038268f.js";import"./useChildren-eae4425d.js";import"./logger-525ef361.js";import"./FieldDecorator-d39fc4c5.js";import"./onWindowResize-10389632.js";import"./index-f69a32e0.js";import"./usePopover-3725ecda.js";import"./zIndex-efe8159e.js";import"./index-febd6c7c.js";import"./index-b8c90dca.js";import"./index-1d9e7684.js";/* empty css               */import"./index-eacfe014.js";import"./index-2cf85e75.js";import"./index-6522d36f.js";import"./index-4df2b303.js";import"./lock-8d734796.js";import"./provide-e05a7a08.js";import"./index-65d365a3.js";import"./index-7d8b2d47.js";import"./provide-3a875a12.js";import"./onSmartUnmounted-605ef544.js";import"./useTouch-d6d5a788.js";import"./index-e59db772.js";const $e={disabled:Boolean,readonly:Boolean,scrollToError:String,scrollToErrorOffsetY:{type:[String,Number],default:0},onSubmit:N(),onReset:N()},{n:Te}=H("form"),he=ae({name:"VarForm",props:$e,setup(r){const s=B(()=>r.disabled),p=B(()=>r.readonly),{formItems:d,bindFormItems:f}=X(),V=m=>{setTimeout(()=>{const c=ue(m),g=c===window?0:z(c),b=z(m)-g-ie(r.scrollToErrorOffsetY);pe(c,{top:b,animation:ce})},300)},o=async m=>{m.preventDefault();const c=await U();R(r.onSubmit,c)},a=m=>{m.preventDefault(),k(),R(r.onReset)},U=async()=>{var c;const m=await Promise.all(d.map(({validate:g})=>g()));if(r.scrollToError){const[,g]=oe(m,y=>y===!1,r.scrollToError),b=g>-1;if(b){const y=(c=d[g].instance.proxy)==null?void 0:c.$el;V(y)}return!b}return m.every(g=>g===!0)},k=()=>d.forEach(({reset:m})=>m()),_=()=>d.forEach(({resetValidation:m})=>m());return f({disabled:s,readonly:p}),{n:Te,handleSubmit:o,handleReset:a,validate:U,reset:k,resetValidation:_}}});function we(r,s,p,d,f,V){return E(),I("form",{class:Y(r.n()),onSubmit:s[0]||(s[0]=(...o)=>r.handleSubmit&&r.handleSubmit(...o)),onReset:s[1]||(s[1]=(...o)=>r.handleReset&&r.handleReset(...o))},[W(r.$slots,"default")],34)}const x=F(he,[["render",we]]);x.useValidation=J;x.useForm=Z;K(x);const Fe={__name:"CustomFormComponent",props:{modelValue:{type:Boolean},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},rules:{type:Array},validateTrigger:{type:Array,default:()=>["onToggle"]},extraMessage:{type:String}},emits:["update:modelValue"],setup(r,{expose:s,emit:p}){const d=r,{useForm:f,useValidation:V}=x,{errorMessage:o,validateWithTrigger:a,validate:U,resetValidation:k}=V(),{bindForm:_,form:v}=f(),m=()=>U(d.rules,d.modelValue);function c(){p("update:modelValue",!1),k()}function g($){le(()=>{const{validateTrigger:P,rules:S,modelValue:Q}=d;a(P,$,S,Q)})}function b(){d.readonly||d.disabled||v!=null&&v.readonly.value||v!=null&&v.disabled.value||(p("update:modelValue",!d.modelValue),g("onToggle"))}const y={reset:c,validate:m,resetValidation:k};return s(y),_==null||_(y),($,P)=>{var S;return E(),I("div",{class:Y(["var-custom-form-component",{"var-custom-form-component--disabled":r.disabled||((S=e(v))==null?void 0:S.disabled.value),"var-custom-form-component--error":e(o)}])},[G("div",{class:"var-custom-form-component__container",onClick:b},[t(e(ke),{class:"var-custom-form-component__icon",name:r.modelValue?"checkbox-marked-circle":"close-circle",transition:250},null,8,["name"]),W($.$slots,"default",{},void 0,!0)]),t(e(ee),{"error-message":e(o),"extra-message":r.extraMessage},null,8,["error-message","extra-message"])],2)}}},Ee=F(Fe,[["__scopeId","data-v-235f566f"]]),Ie={example:"表单示例",username:"请输入用户名",usernameMessage:"用户名不能为空",password:"请输入密码",passwordMessage:"请输入密码",department:"请选择部门",departmentMessage:"必须选一个部门",eat:"吃饭",sleep:"睡觉",play:"打游戏",departmentUnit:"部",group:"请选择组织",groupMessage:"至少选择一个组织",groupUnit:"组",genderMessage:"必须选择一个性别",male:"男",female:"女",rateMessage:"必须大于2",likeMessage:"至少选择一个爱好",licenseMessage:"您必须开启",countMessage:"必须大于10",rangeMessage:"必须大于10",filesMessage:"至少上传一张图片",customFormComponent:"自定义表单组件",customLabel:"点我切换",customErrorMessage:"必须是对勾",customExtraMessage:"附加信息",controller:"表单控制",reset:"清空表单",resetValidation:"清空验证",validate:"触发验证",disabled:"表单禁用",readonly:"表单只读"},Pe={example:"Form Example",username:"Please input username",usernameMessage:"The username cannot be empty",password:"Please input password",passwordMessage:"The password cannot be empty",department:"Please select department",departmentMessage:"The select cannot be empty",eat:"Eat",sleep:"Sleep",play:"Play game",departmentUnit:" department",group:"Please select group",groupMessage:"The select cannot be empty",groupUnit:" group",genderMessage:"The gender cannot be empty",male:"Male",female:"Female",rateMessage:"It has to be greater than 2",likeMessage:"The select cannot be empty",licenseMessage:"You must turn on",countMessage:"It has to be greater than 10",rangeMessage:"It has to be greater than 10",filesMessage:"Upload at least one picture",customFormComponent:"Custom Form Component",customLabel:"Click toggle",customErrorMessage:"Please check it",customExtraMessage:"Extra message",controller:"Form control",reset:"Empty form",resetValidation:"Empty the validation",validate:"Trigger validation",disabled:"Form disabled",readonly:"Form readonly"},{add:q,use:Ne,pack:l,packs:Fa,merge:Ea}=Ce(),Re=r=>{Se(r),Ne(r)};j("zh-CN",xe);j("en-US",Ue);q("zh-CN",Ie);q("en-US",Pe);const Be=r=>(de("data-v-9da29a7c"),r=r(),me(),r),ze=Be(()=>G("div",{class:"space"},null,-1)),De={__name:"index",setup(r){const s=te({username:"",password:"",department:"",gender:void 0,license:!1,range:0,count:0,group:[],score:0,like:[],files:[],custom:!1}),p=T(null),d=T(!1),f=T(!1);return se(V=>{var o;Re(V),(o=p.value)==null||o.reset()}),re(_e),(V,o)=>(E(),I(ne,null,[t(e(w),null,{default:n(()=>[u(i(e(l).example),1)]),_:1}),t(e(x),{ref_key:"form",ref:p,disabled:d.value,readonly:f.value,"scroll-to-error":"start","scroll-to-error-offset-y":"14.4vmin"},{default:n(()=>[t(e(A),{direction:"column",size:["4vmin",0]},{default:n(()=>[t(e(D),{placeholder:e(l).username,rules:[a=>!!a||e(l).usernameMessage],modelValue:s.username,"onUpdate:modelValue":o[0]||(o[0]=a=>s.username=a)},null,8,["placeholder","rules","modelValue"]),t(e(D),{type:"password",placeholder:e(l).password,rules:[a=>!!a||e(l).passwordMessage],modelValue:s.password,"onUpdate:modelValue":o[1]||(o[1]=a=>s.password=a)},null,8,["placeholder","rules","modelValue"]),t(e(L),{placeholder:e(l).department,rules:[a=>!!a||e(l).departmentMessage],modelValue:s.department,"onUpdate:modelValue":o[2]||(o[2]=a=>s.department=a)},{default:n(()=>[t(e(M),{label:`${e(l).eat}${e(l).departmentUnit}`},null,8,["label"]),t(e(M),{label:`${e(l).sleep}${e(l).departmentUnit}`},null,8,["label"]),t(e(M),{label:`${e(l).play}${e(l).departmentUnit}`},null,8,["label"])]),_:1},8,["placeholder","rules","modelValue"]),t(e(L),{multiple:"",placeholder:e(l).group,rules:[a=>a.length>=1||e(l).groupMessage],modelValue:s.group,"onUpdate:modelValue":o[3]||(o[3]=a=>s.group=a)},{default:n(()=>[t(e(M),{label:`${e(l).eat}${e(l).groupUnit}`},null,8,["label"]),t(e(M),{label:`${e(l).sleep}${e(l).groupUnit}`},null,8,["label"]),t(e(M),{label:`${e(l).play}${e(l).groupUnit}`},null,8,["label"])]),_:1},8,["placeholder","rules","modelValue"]),t(e(fe),{rules:[a=>!!a||e(l).genderMessage],modelValue:s.gender,"onUpdate:modelValue":o[4]||(o[4]=a=>s.gender=a)},{default:n(()=>[t(e(O),{"checked-value":1},{default:n(()=>[u(i(e(l).male),1)]),_:1}),t(e(O),{"checked-value":2},{default:n(()=>[u(i(e(l).female),1)]),_:1})]),_:1},8,["rules","modelValue"]),t(e(ge),{rules:[a=>a.length>0||e(l).likeMessage],modelValue:s.like,"onUpdate:modelValue":o[5]||(o[5]=a=>s.like=a)},{default:n(()=>[t(e(h),{"checked-value":1},{default:n(()=>[u(i(e(l).eat),1)]),_:1}),t(e(h),{"checked-value":2},{default:n(()=>[u(i(e(l).sleep),1)]),_:1}),t(e(h),{"checked-value":3},{default:n(()=>[u(i(e(l).play),1)]),_:1})]),_:1},8,["rules","modelValue"]),t(e(Me),{rules:[a=>a>=3||e(l).rateMessage],modelValue:s.score,"onUpdate:modelValue":o[6]||(o[6]=a=>s.score=a)},null,8,["rules","modelValue"]),t(e(ve),{rules:[a=>!!a||e(l).licenseMessage],modelValue:s.license,"onUpdate:modelValue":o[7]||(o[7]=a=>s.license=a)},null,8,["rules","modelValue"]),t(e(ye),{rules:[a=>a>10||e(l).countMessage],modelValue:s.count,"onUpdate:modelValue":o[8]||(o[8]=a=>s.count=a)},null,8,["rules","modelValue"]),t(e(Ve),{rules:[a=>a>10||e(l).rangeMessage],modelValue:s.range,"onUpdate:modelValue":o[9]||(o[9]=a=>s.range=a)},null,8,["rules","modelValue"]),t(e(be),{rules:[a=>a.length>=1||e(l).filesMessage],modelValue:s.files,"onUpdate:modelValue":o[10]||(o[10]=a=>s.files=a)},null,8,["rules","modelValue"])]),_:1}),t(e(w),null,{default:n(()=>[u(i(e(l).customFormComponent),1)]),_:1}),t(e(Ee),{"extra-message":e(l).customExtraMessage,rules:[a=>!!a||e(l).customErrorMessage],modelValue:s.custom,"onUpdate:modelValue":o[11]||(o[11]=a=>s.custom=a)},{default:n(()=>[u(i(e(l).customLabel),1)]),_:1},8,["extra-message","rules","modelValue"])]),_:1},8,["disabled","readonly"]),t(e(w),null,{default:n(()=>[u(i(e(l).controller),1)]),_:1}),t(e(A),{direction:"column",size:["4vmin",0]},{default:n(()=>[t(e(C),{block:"",type:"danger",onClick:o[12]||(o[12]=a=>p.value.reset())},{default:n(()=>[u(i(e(l).reset),1)]),_:1}),t(e(C),{block:"",type:"warning",onClick:o[13]||(o[13]=a=>p.value.resetValidation())},{default:n(()=>[u(i(e(l).resetValidation),1)]),_:1}),t(e(C),{block:"",type:"success",onClick:o[14]||(o[14]=a=>p.value.validate())},{default:n(()=>[u(i(e(l).validate),1)]),_:1}),t(e(C),{block:"",type:"info",onClick:o[15]||(o[15]=a=>d.value=!d.value)},{default:n(()=>[u(i(e(l).disabled),1)]),_:1}),t(e(C),{block:"",type:"primary",onClick:o[16]||(o[16]=a=>f.value=!f.value)},{default:n(()=>[u(i(e(l).readonly),1)]),_:1})]),_:1}),ze],64))}},Ia=F(De,[["__scopeId","data-v-9da29a7c"]]);export{Ia as default};
