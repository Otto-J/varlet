import{F as T,u as E}from"./provide-a4f09049.js";import{d as C,k as W,a as n,c as z,w as B}from"./logger-032ac2e3.js";import{u as S}from"./index-f7f95dec.js";import{d as q,b as c,w as b,aQ as _,n as D,_ as P,p as I,f as L,h as O,M as Q,O as j,N as x,q as H}from"./vue-router-34f02d24.js";function J(e){return["horizontal","vertical"].includes(e)}const K={modelValue:{type:Array,default:()=>[]},max:{type:[String,Number]},direction:{type:String,default:"horizontal",validator:J},validateTrigger:{type:Array,default:["onChange"]},rules:{type:Array},onChange:C(),"onUpdate:modelValue":C()},{n:R,classes:X}=z("checkbox-group"),Y=q({name:"VarCheckboxGroup",components:{VarFormDetails:T},props:K,setup(e){const i=c(()=>e.max),d=c(()=>e.modelValue.length),{length:u,checkboxes:s,bindCheckboxes:m}=S(),{bindForm:r}=E(),{errorMessage:h,validateWithTrigger:y,validate:A,resetValidation:l}=W(),M=c(()=>h.value),U=a=>{D(()=>{const{validateTrigger:o,rules:t,modelValue:N}=e;y(o,a,t,N)})},f=a=>{n(e["onUpdate:modelValue"],a),n(e.onChange,a),U("onChange")},$=a=>{const{modelValue:o}=e;o.includes(a)||f([...o,a])},w=a=>{const{modelValue:o}=e;o.includes(a)&&f(o.filter(t=>t!==a))},g=()=>s.forEach(({sync:a})=>a(e.modelValue)),v=()=>{s.forEach(a=>a.resetWithAnimation())},F=()=>{const a=s.map(({checkedValue:t})=>t.value),o=_(a);return v(),n(e["onUpdate:modelValue"],o),o},G=()=>{const a=s.filter(({checked:t})=>!t.value).map(({checkedValue:t})=>t.value),o=_(a);return v(),n(e["onUpdate:modelValue"],o),o},V=()=>{n(e["onUpdate:modelValue"],[]),l()},k=()=>A(e.rules,e.modelValue);b(()=>e.modelValue,g,{deep:!0}),b(()=>u.value,g);const p={max:i,checkedCount:d,onChecked:$,onUnchecked:w,validate:k,resetValidation:l,reset:V,errorMessage:M};return m(p),n(r,p),{errorMessage:h,n:R,classes:X,checkAll:F,inverseAll:G,reset:V,validate:k,resetValidation:l}}});function Z(e,i,d,u,s,m){const r=I("var-form-details");return L(),O("div",{class:x(e.n("wrap"))},[Q("div",{class:x(e.classes(e.n(),e.n(`--${e.direction}`)))},[j(e.$slots,"default")],2),H(r,{"error-message":e.errorMessage},null,8,["error-message"])],2)}const ee=P(Y,[["render",Z]]);B(ee);export{ee as C};
