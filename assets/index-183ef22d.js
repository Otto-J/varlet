import{v as C}from"./index-64b7f9fe.js";import{v as E}from"./index-e025ec1c.js";import{d as t,c as L,a as n}from"./logger-edd820f6.js";import{a as b}from"./elements-1cc231e5.js";import{d as c,a as w,w as $,_ as N,ag as S,D as v,f as s,h as d,N as p,R as y,j as u,O as B}from"./vue-router-075a32e7.js";function I(e){return["fill","contain","cover","none","scale-down"].includes(e)}const U={src:{type:String},fit:{type:String,validator:I,default:"fill"},alt:{type:String},title:{type:String},width:{type:[String,Number]},height:{type:[String,Number]},radius:{type:[String,Number],default:0},loading:{type:String},error:{type:String},lazy:{type:Boolean,default:!1},ripple:{type:Boolean,default:!1},block:{type:Boolean,default:!0},onClick:t(),onLoad:t(),onError:t()},{n:j,classes:D}=L("image"),R=c({name:"VarImage",directives:{Lazy:E,Ripple:C},props:U,setup(e,{slots:r}){const l=w(!1),m=o=>{const i=o.currentTarget,{lazy:a,onLoad:z,onError:k}=e;a?(i._lazy.state==="success"&&n(z,o),i._lazy.state==="error"&&(r!=null&&r.error&&(l.value=!0),n(k,o))):n(z,o)},g=o=>{l.value=!!(r!=null&&r.error),n(e.onError,o)},h=o=>{n(e.onClick,o)};return $(()=>e.src,()=>{l.value=!1}),{n:j,classes:D,showErrorSlot:l,toSizeUnit:b,handleLoad:m,handleError:g,handleClick:h}}});const V=["alt","title","lazy-loading","lazy-error"],F=["alt","title","src"];function O(e,r,l,m,g,h){const o=S("lazy"),i=S("ripple");return v((s(),d("div",{class:p(e.classes(e.n(),e.n("$--box"),[!e.block,e.n("$--inline-block")])),style:y({width:e.toSizeUnit(e.width),height:e.toSizeUnit(e.height),"border-radius":e.toSizeUnit(e.radius)})},[e.lazy&&!e.showErrorSlot?v((s(),d("img",{key:0,class:p(e.n("image")),alt:e.alt,title:e.title,"lazy-loading":e.loading,"lazy-error":e.error,style:y({objectFit:e.fit}),onLoad:r[0]||(r[0]=(...a)=>e.handleLoad&&e.handleLoad(...a)),onClick:r[1]||(r[1]=(...a)=>e.handleClick&&e.handleClick(...a))},null,46,V)),[[o,e.src]]):u("",!0),!e.lazy&&!e.showErrorSlot?(s(),d("img",{key:1,class:p(e.n("image")),alt:e.alt,title:e.title,style:y({objectFit:e.fit}),src:e.src,onLoad:r[2]||(r[2]=(...a)=>e.handleLoad&&e.handleLoad(...a)),onError:r[3]||(r[3]=(...a)=>e.handleError&&e.handleError(...a)),onClick:r[4]||(r[4]=(...a)=>e.handleClick&&e.handleClick(...a))},null,46,F)):u("",!0),e.showErrorSlot?B(e.$slots,"error",{key:2}):u("",!0)],6)),[[i,{disabled:!e.ripple}]])}const f=N(R,[["render",O]]);f.install=function(e){e.component(f.name,f)};export{f as I};
