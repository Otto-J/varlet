import{B as ve}from"./index-3b098dd5.js";import{d as T,c as H,a as S,w as X}from"./components-9ac8aa63.js";import{a1 as de,d as Z,r as d,B as U,F as G,ar as fe,az as ge,aQ as pe,ae as Ce,_ as x,b as R,e as $,l as O,s as F,f as w,w as m,aq as ee,q as _,t as L,v as ae,a3 as he,K as Ne,O as Be,m as ye,M as le,P as y,Q as k,E as ke,aj as Ie,p as l,U as e}from"./index-6d832126.js";import{v as Se}from"./index-212a5dd9.js";import{B as $e}from"./index-a1f1a462.js";import{I as ne}from"./index-257e1948.js";import{e as Ae}from"./logger-525ef361.js";import{S as Q}from"./index-dd2e04bc.js";import{d as Ee}from"./index-ea9abee8.js";import{u as Pe,b as te,_ as Te,c as Ue,a as _e}from"./index-8c3ef20e.js";import{A as E}from"./appType-f9285fe2.js";import"./index-220c5c81.js";import"./elements-e3fd99e5.js";import"./index-b2c41d1d.js";import"./index-21895272.js";import"./index-8cc6f968.js";/* empty css               */import"./zIndex-e1425dc2.js";import"./lock-a639b90a.js";const Le={active:{type:[Number,String],default:0},zIndex:{type:[Number,String],default:1},fixed:Boolean,border:Boolean,safeArea:Boolean,activeColor:String,inactiveColor:String,fabProps:Object,onChange:T(),onBeforeChange:T(),onFabClick:T(),"onUpdate:active":T()},oe=Symbol("BOTTOM_NAVIGATION_BIND_BOTTOM_NAVIGATION_ITEM_KEY");function Oe(){const{childProviders:a,length:s,bindChildren:r}=de(oe);return{length:s,bottomNavigationItems:a,bindBottomNavigationItem:r}}const{name:Fe,n:we,classes:Me}=H("bottom-navigation"),{n:M}=H("bottom-navigation-item"),Y=M("--right-half-space"),J=M("--left-half-space"),W=M("--right-space"),ze={type:"primary"},De=Z({name:Fe,components:{VarButton:ve},props:Le,setup(a,{slots:s}){const r=d(null),b=U(()=>a.active),f=U(()=>a.activeColor),p=U(()=>a.inactiveColor),v=d({}),{length:c,bottomNavigationItems:C,bindBottomNavigationItem:h}=Oe();h({active:b,activeColor:f,inactiveColor:p,onToggle:se}),G(()=>c.value,N),G(()=>a.fabProps,i=>{v.value={...ze,...i}},{immediate:!0,deep:!0}),fe(()=>{s.fab&&q(c.value)}),ge(()=>{ce(),s.fab&&q(c.value)});function N(){c.value===0||B()||o()||u()}function B(){return C.find(({name:i})=>b.value===i.value)}function o(){return C.find(({index:i})=>b.value===i.value)}function u(){Ce(b.value)&&(b.value<0?S(a["onUpdate:active"],0):b.value>c.value-1&&S(a["onUpdate:active"],c.value-1))}function se(i){b.value!==i&&(a.onBeforeChange?re(i):j(i))}function re(i){const g=pe(S(a.onBeforeChange,i));Promise.all(g).then(A=>{A.every(Boolean)&&j(i)})}function j(i){S(a["onUpdate:active"],i),S(a.onChange,i)}function ce(){K().forEach(g=>{g.classList.remove(Y,J,W)})}function q(i){const g=K(),A=g.length,P=i%2===0;g.forEach((D,V)=>{ue(P,D,V,A)})}function ue(i,g,A,P){const D=A===P-1;if(!i&&D){g.classList.add(W);return}const V=A===P/2-1,be=A===P/2;V?g.classList.add(Y):be&&g.classList.add(J)}function K(){return Array.from(r.value.querySelectorAll(`.${M()}`))}function me(){S(a.onFabClick)}return{length:c,bottomNavigationDom:r,fabProps:v,n:we,classes:Me,handleFabClick:me}}});function Ve(a,s,r,b,f,p){const v=R("var-button");return $(),O("div",{class:L(a.classes(a.n(),a.n("$--box"),[a.fixed,a.n("--fixed")],[a.border,a.n("--border")],[a.safeArea,a.n("--safe-area")])),ref:"bottomNavigationDom",style:ae(`z-index:${a.zIndex}`)},[F(a.$slots,"default"),a.$slots.fab?($(),w(v,ee({key:0,class:a.classes(a.n("fab"),[a.length%2,a.n("--fab-right"),a.n("--fab-center")]),"var-bottom-navigation__fab":"",onClick:a.handleFabClick},a.fabProps,{round:""}),{default:m(()=>[F(a.$slots,"fab")]),_:3},16,["class","onClick"])):_("",!0)],6)}const I=x(De,[["render",Ve]]);X(I);const Ge={name:String,icon:String,label:String,namespace:{type:String,default:"var-icon"},badge:{type:[Boolean,Object],default:!1},onClick:T()};function Re(){const{parentProvider:a,index:s,bindParent:r}=he(oe);return r||Ae("BottomNavigationItem","<var-bottom-navigation-item/> must in <var-bottom-navigation/>"),{index:s,bottomNavigation:a,bindBottomNavigation:r}}const{name:He,n:je,classes:qe}=H("bottom-navigation-item"),Ke={type:"danger",dot:!0},Qe=Z({name:He,components:{VarBadge:$e,VarIcon:ne},directives:{Ripple:Se},props:Ge,setup(a){const s=U(()=>a.name),r=U(()=>a.badge),b=d({}),{index:f,bottomNavigation:p,bindBottomNavigation:v}=Re(),{active:c,activeColor:C,inactiveColor:h}=p;v({name:s,index:f}),G(()=>r.value,o=>{b.value=o===!0?Ke:r.value},{immediate:!0});function N(){return c.value===s.value||c.value===f.value?C.value:h.value}function B(){const o=s.value??f.value;S(a.onClick,o),S(p.onToggle,o)}return{index:f,active:c,badge:r,badgeProps:b,n:je,classes:qe,computeColorStyle:N,handleClick:B}}});function Ye(a,s,r,b,f,p){const v=R("var-icon"),c=R("var-badge"),C=Ne("ripple");return Be(($(),O("button",{class:L(a.classes(a.n(),a.n("$--box"),[a.active===a.index||a.active===a.name,a.n("--active")])),style:ae({color:a.computeColorStyle()}),onClick:s[0]||(s[0]=(...h)=>a.handleClick&&a.handleClick(...h))},[a.icon&&!a.$slots.icon?($(),w(v,{key:0,name:a.icon,namespace:a.namespace,class:L(a.n("icon")),"var-bottom-navigation-item-cover":""},null,8,["name","namespace","class"])):_("",!0),F(a.$slots,"icon",{active:a.active===a.index||a.active===a.name}),a.badge?($(),w(c,ee({key:1},a.badgeProps,{class:a.n("badge"),"var-bottom-navigation-item-cover":""}),null,16,["class"])):_("",!0),ye("span",{class:L(a.n("label"))},[a.$slots.default?_("",!0):($(),O(le,{key:0},[y(k(a.label),1)],64)),F(a.$slots,"default")],2)],6)),[[C]])}const t=x(Qe,[["render",Ye]]);X(t);const Je={basicUsage:"基本使用",matchByName:"通过名称匹配",showBadge:"徽标提示",customColor:"自定义颜色",changeEvent:"监听切换事件",clickEvent:"监听点击事件",fab:"悬浮按钮",label:"标签"},We={basicUsage:"Basic Usage",matchByName:"Match By Name",showBadge:"Show Badge",customColor:"Custom Color",changeEvent:"Change Event",clickEvent:"Click Event",fab:"Fab",label:"label"},{add:ie,use:Xe,pack:n,packs:Ca,merge:ha}=Pe(),Ze=a=>{_e(a),Xe(a)};te("zh-CN",Te);te("en-US",Ue);ie("zh-CN",Je);ie("en-US",We);const Na={__name:"index",setup(a){const s=d(0),r=d("home"),b=d(0),f={type:"primary",value:"66"},p=d(0),v=d(0),c=d(0),C=d(0),h=d(!0);function z(B){Q.info(`changed to ${B}`)}function N(B){Q.success(`clicked ${B}`)}return ke(Ze),Ie(Ee),(B,o)=>($(),O(le,null,[l(e(E),null,{default:m(()=>[y(k(e(n).basicUsage),1)]),_:1}),l(e(I),{active:s.value,"onUpdate:active":o[0]||(o[0]=u=>s.value=u)},{default:m(()=>[l(e(t),{label:e(n).label,icon:"home"},null,8,["label"]),l(e(t),{label:e(n).label,icon:"magnify"},null,8,["label"]),l(e(t),{label:e(n).label,icon:"heart"},null,8,["label"]),l(e(t),{label:e(n).label,icon:"account-circle"},null,8,["label"])]),_:1},8,["active"]),l(e(E),null,{default:m(()=>[y(k(e(n).matchByName),1)]),_:1}),l(e(I),{active:r.value,"onUpdate:active":o[1]||(o[1]=u=>r.value=u)},{default:m(()=>[l(e(t),{name:"home",label:e(n).label,icon:"home"},null,8,["label"]),l(e(t),{name:"search",label:e(n).label,icon:"magnify"},null,8,["label"]),l(e(t),{name:"heart",label:e(n).label,icon:"heart"},null,8,["label"]),l(e(t),{name:"user",label:e(n).label,icon:"account-circle"},null,8,["label"])]),_:1},8,["active"]),l(e(E),null,{default:m(()=>[y(k(e(n).showBadge),1)]),_:1}),l(e(I),{active:b.value,"onUpdate:active":o[2]||(o[2]=u=>b.value=u)},{default:m(()=>[l(e(t),{label:e(n).label,icon:"home"},null,8,["label"]),l(e(t),{label:e(n).label,icon:"magnify",badge:""},null,8,["label"]),l(e(t),{label:e(n).label,icon:"heart",badge:f},null,8,["label"]),l(e(t),{label:e(n).label,icon:"account-circle"},null,8,["label"])]),_:1},8,["active"]),l(e(E),null,{default:m(()=>[y(k(e(n).customColor),1)]),_:1}),l(e(I),{"active-color":"#ba68c8",active:p.value,"onUpdate:active":o[3]||(o[3]=u=>p.value=u)},{default:m(()=>[l(e(t),{label:e(n).label,icon:"home"},null,8,["label"]),l(e(t),{label:e(n).label,icon:"magnify"},null,8,["label"]),l(e(t),{label:e(n).label,icon:"heart"},null,8,["label"]),l(e(t),{label:e(n).label,icon:"account-circle"},null,8,["label"])]),_:1},8,["active"]),l(e(E),null,{default:m(()=>[y(k(e(n).changeEvent),1)]),_:1}),l(e(I),{active:v.value,"onUpdate:active":o[4]||(o[4]=u=>v.value=u),onChange:z},{default:m(()=>[l(e(t),{label:e(n).label,icon:"home"},null,8,["label"]),l(e(t),{label:e(n).label,icon:"magnify"},null,8,["label"]),l(e(t),{label:e(n).label,icon:"heart"},null,8,["label"]),l(e(t),{label:e(n).label,icon:"account-circle"},null,8,["label"])]),_:1},8,["active"]),l(e(E),null,{default:m(()=>[y(k(e(n).clickEvent),1)]),_:1}),l(e(I),{active:c.value,"onUpdate:active":o[5]||(o[5]=u=>c.value=u)},{default:m(()=>[l(e(t),{onClick:N,label:e(n).label,icon:"home"},null,8,["label"]),l(e(t),{onClick:N,label:e(n).label,icon:"magnify"},null,8,["label"]),l(e(t),{onClick:N,label:e(n).label,icon:"heart"},null,8,["label"]),l(e(t),{onClick:N,label:e(n).label,icon:"account-circle"},null,8,["label"])]),_:1},8,["active"]),l(e(E),null,{default:m(()=>[y(k(e(n).fab),1)]),_:1}),l(e(I),{active:C.value,"onUpdate:active":o[6]||(o[6]=u=>C.value=u),onFabClick:o[7]||(o[7]=u=>h.value=!h.value),style:{"margin-top":"10px"}},{fab:m(()=>[l(e(ne),{name:"heart"})]),default:m(()=>[l(e(t),{label:e(n).label,icon:"home"},null,8,["label"]),l(e(t),{label:e(n).label,icon:"magnify"},null,8,["label"]),l(e(t),{label:e(n).label,icon:"heart"},null,8,["label"]),l(e(t),{label:e(n).label,icon:"bell"},null,8,["label"]),h.value?_("",!0):($(),w(e(t),{key:0,label:e(n).label,icon:"account-circle"},null,8,["label"]))]),_:1},8,["active"])],64))}};export{Na as default};
