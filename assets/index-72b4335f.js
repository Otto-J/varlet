import{F as E,u as G}from"./provide-98f98982.js";import{d as p,h as N,a as t,c as W,w as S}from"./components-351c7fb8.js";import{u as z}from"./index-e82ccd0d.js";import{d as D,B as c,F as b,aU as _,n as P,_ as q,b as I,e as L,l as j,m as H,s as J,t as x,p as K}from"./index-265bf7c3.js";const O={modelValue:{type:Array,default:()=>[]},max:[String,Number],direction:{type:String,default:"horizontal"},validateTrigger:{type:Array,default:()=>["onChange"]},rules:Array,onChange:p(),"onUpdate:modelValue":p()},{name:Q,n:R,classes:X}=W("checkbox-group"),Y=D({name:Q,components:{VarFormDetails:E},props:O,setup(e){const i=c(()=>e.max),u=c(()=>e.modelValue.length),{length:d,checkboxes:r,bindCheckboxes:m}=z(),{bindForm:s}=G(),{errorMessage:f,validateWithTrigger:y,validate:A,resetValidation:l}=N(),U=c(()=>f.value),h={max:i,checkedCount:u,onChecked:$,onUnchecked:M,validate:C,resetValidation:l,reset:k,errorMessage:U};b(()=>e.modelValue,v,{deep:!0}),b(()=>d.value,v),m(h),t(s,h);function F(a){P(()=>{const{validateTrigger:n,rules:o,modelValue:B}=e;y(n,a,o,B)})}function g(a){t(e["onUpdate:modelValue"],a),t(e.onChange,a),F("onChange")}function $(a){const{modelValue:n}=e;n.includes(a)||g([...n,a])}function M(a){const{modelValue:n}=e;n.includes(a)&&g(n.filter(o=>o!==a))}function v(){return r.forEach(({sync:a})=>a(e.modelValue))}function V(){r.forEach(a=>a.resetWithAnimation())}function T(){const a=r.map(({checkedValue:o})=>o.value),n=_(a);return V(),t(e["onUpdate:modelValue"],n),n}function w(){const a=r.filter(({checked:o})=>!o.value).map(({checkedValue:o})=>o.value),n=_(a);return V(),t(e["onUpdate:modelValue"],n),n}function k(){t(e["onUpdate:modelValue"],[]),l()}function C(){return A(e.rules,e.modelValue)}return{errorMessage:f,n:R,classes:X,checkAll:T,inverseAll:w,reset:k,validate:C,resetValidation:l}}});function Z(e,i,u,d,r,m){const s=I("var-form-details");return L(),j("div",{class:x(e.n("wrap"))},[H("div",{class:x(e.classes(e.n(),e.n(`--${e.direction}`)))},[J(e.$slots,"default")],2),K(s,{"error-message":e.errorMessage},null,8,["error-message"])],2)}const ee=q(Y,[["render",Z]]);S(ee);export{ee as C};
