import{F as B,u as E}from"./provide-bc40acc1.js";import{d as p,h as N,a as s,c as W,w as S}from"./components-fc08aa5d.js";import{u as z}from"./index-db62515b.js";import{d as D,B as c,F as b,aU as _,n as P,_ as q,b as I,e as L,l as j,m as H,s as J,t as x,p as K}from"./index-d14962f9.js";const O={modelValue:{type:Array,default:()=>[]},max:[String,Number],direction:{type:String,default:"horizontal"},validateTrigger:{type:Array,default:()=>["onChange"]},rules:Array,onChange:p(),"onUpdate:modelValue":p()},{n:Q,classes:R}=W("checkbox-group"),X=D({name:"VarCheckboxGroup",components:{VarFormDetails:B},props:O,setup(e){const i=c(()=>e.max),d=c(()=>e.modelValue.length),{length:u,checkboxes:n,bindCheckboxes:m}=z(),{bindForm:r}=E(),{errorMessage:h,validateWithTrigger:y,validate:A,resetValidation:l}=N(),U=c(()=>h.value),F=a=>{P(()=>{const{validateTrigger:o,rules:t,modelValue:w}=e;y(o,a,t,w)})},g=a=>{s(e["onUpdate:modelValue"],a),s(e.onChange,a),F("onChange")},$=a=>{const{modelValue:o}=e;o.includes(a)||g([...o,a])},G=a=>{const{modelValue:o}=e;o.includes(a)&&g(o.filter(t=>t!==a))},f=()=>n.forEach(({sync:a})=>a(e.modelValue)),v=()=>{n.forEach(a=>a.resetWithAnimation())},M=()=>{const a=n.map(({checkedValue:t})=>t.value),o=_(a);return v(),s(e["onUpdate:modelValue"],o),o},T=()=>{const a=n.filter(({checked:t})=>!t.value).map(({checkedValue:t})=>t.value),o=_(a);return v(),s(e["onUpdate:modelValue"],o),o},V=()=>{s(e["onUpdate:modelValue"],[]),l()},k=()=>A(e.rules,e.modelValue);b(()=>e.modelValue,f,{deep:!0}),b(()=>u.value,f);const C={max:i,checkedCount:d,onChecked:$,onUnchecked:G,validate:k,resetValidation:l,reset:V,errorMessage:U};return m(C),s(r,C),{errorMessage:h,n:Q,classes:R,checkAll:M,inverseAll:T,reset:V,validate:k,resetValidation:l}}});function Y(e,i,d,u,n,m){const r=I("var-form-details");return L(),j("div",{class:x(e.n("wrap"))},[H("div",{class:x(e.classes(e.n(),e.n(`--${e.direction}`)))},[J(e.$slots,"default")],2),K(r,{"error-message":e.errorMessage},null,8,["error-message"])],2)}const Z=q(X,[["render",Y]]);S(Z);export{Z as C};
