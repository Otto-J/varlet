import{F as N,u as P}from"./provide-f7917cf6.js";import{d as V,h as E,a as c,c as F,w as H,g as Q}from"./components-aa05b956.js";import{a1 as X,d as U,B as j,F as z,n as W,_ as K,b as D,e as M,l as w,m as G,s as O,t as u,p as b,a3 as Z,r as _,K as I,O as x,v as ee,aq as ae}from"./index-73b8d177.js";import{I as oe}from"./index-7c77fe96.js";import{v as re}from"./index-08c6a734.js";import{v as se}from"./index-d6c88b58.js";import{H as ne,u as le}from"./index-6b1aa085.js";const ie={modelValue:{type:[String,Number,Boolean,Object,Array],default:void 0},direction:{type:String,default:"horizontal"},validateTrigger:{type:Array,default:()=>["onChange"]},rules:Array,onChange:V(),"onUpdate:modelValue":V()},Y=Symbol("RADIO_GROUP_BIND_RADIO_KEY");function de(){const{bindChildren:e,childProviders:o,length:s}=X(Y);return{length:s,radios:o,bindRadios:e}}const{n:te,classes:ce}=F("radio-group"),ue=U({name:"VarRadioGroup",components:{VarFormDetails:N},props:ie,setup(e){const{length:o,radios:s,bindRadios:v}=de(),{bindForm:n}=P(),{errorMessage:m,validateWithTrigger:d,validate:p,resetValidation:a}=E(),f=j(()=>m.value),y=t=>{W(()=>{const{validateTrigger:B,rules:C,modelValue:$}=e;d(B,t,C,$)})},g=()=>s.forEach(({sync:t})=>t(e.modelValue)),S=t=>{c(e["onUpdate:modelValue"],t),c(e.onChange,t),y("onChange")},h=()=>p(e.rules,e.modelValue),R=()=>{c(e["onUpdate:modelValue"],void 0),a()};z(()=>e.modelValue,g),z(()=>o.value,g);const k={onToggle:S,validate:h,reset:R,resetValidation:a,errorMessage:f};return c(n,k),v(k),{errorMessage:m,n:te,classes:ce,reset:R,validate:h,resetValidation:a}}});function ve(e,o,s,v,n,m){const d=D("var-form-details");return M(),w("div",{class:u(e.n("wrap"))},[G("div",{class:u(e.classes(e.n(),e.n(`--${e.direction}`)))},[O(e.$slots,"default")],2),b(d,{"error-message":e.errorMessage},null,8,["error-message"])],2)}const me=K(ue,[["render",ve]]);H(me);const ge={modelValue:{type:[String,Number,Boolean,Object,Array],default:!1},checkedValue:{type:[String,Number,Boolean,Object,Array],default:!0},uncheckedValue:{type:[String,Number,Boolean,Object,Array],default:!1},disabled:Boolean,readonly:Boolean,checkedColor:String,uncheckedColor:String,iconSize:[String,Number],ripple:{type:Boolean,default:!0},validateTrigger:{type:Array,default:()=>["onChange"]},rules:Array,onClick:V(),onChange:V(),"onUpdate:modelValue":V()};function he(){const{bindParent:e,parentProvider:o,index:s}=Z(Y);return{index:s,radioGroup:o,bindRadioGroup:e}}const{n:pe,classes:fe}=F("radio"),ye=U({name:"VarRadio",directives:{Ripple:re,Hover:se},components:{VarIcon:oe,VarFormDetails:N,VarHoverOverlay:ne},inheritAttrs:!1,props:ge,setup(e){const o=Q(e,"modelValue"),s=j(()=>o.value===e.checkedValue),v=_(!1),{radioGroup:n,bindRadioGroup:m}=he(),{hovering:d,handleHovering:p}=le(),{form:a,bindForm:f}=P(),{errorMessage:y,validateWithTrigger:g,validate:S,resetValidation:h}=E(),R=l=>{W(()=>{const{validateTrigger:r,rules:i,modelValue:A}=e;g(r,l,i,A)})},k=l=>{const{checkedValue:r,onChange:i}=e;n&&o.value===r||(o.value=l,c(i,o.value),n==null||n.onToggle(r),R("onChange"))},t=l=>{const{disabled:r,readonly:i,uncheckedValue:A,checkedValue:L,onClick:J}=e;a!=null&&a.disabled.value||r||(c(J,l),!(a!=null&&a.readonly.value||i)&&(v.value=!0,k(s.value?A:L)))},B=l=>{const{checkedValue:r,uncheckedValue:i}=e;o.value=l===r?r:i},C=()=>{o.value=e.uncheckedValue,h()},$=()=>S(e.rules,e.modelValue),q=l=>{const{uncheckedValue:r,checkedValue:i}=e;![r,i].includes(l)&&(l=s.value?r:i),k(l)},T={sync:B,validate:$,resetValidation:h,reset:C};return c(m,T),c(f,T),{withAnimation:v,checked:s,errorMessage:y,radioGroupErrorMessage:n==null?void 0:n.errorMessage,formDisabled:a==null?void 0:a.disabled,formReadonly:a==null?void 0:a.readonly,hovering:d,handleHovering:p,n:pe,classes:fe,handleClick:t,toggle:q,reset:C,validate:$,resetValidation:h}}});function ke(e,o,s,v,n,m){const d=D("var-icon"),p=D("var-hover-overlay"),a=D("var-form-details"),f=I("ripple"),y=I("hover");return M(),w("div",{class:u(e.n("wrap"))},[G("div",ae({class:e.n(),onClick:o[0]||(o[0]=(...g)=>e.handleClick&&e.handleClick(...g))},e.$attrs),[x((M(),w("div",{class:u(e.classes(e.n("action"),[e.checked,e.n("--checked"),e.n("--unchecked")],[e.errorMessage||e.radioGroupErrorMessage,e.n("--error")],[e.formDisabled||e.disabled,e.n("--disabled")])),style:ee({color:e.checked?e.checkedColor:e.uncheckedColor})},[e.checked?O(e.$slots,"checked-icon",{key:0},()=>[b(d,{class:u(e.classes(e.n("icon"),[e.withAnimation,e.n("--with-animation")])),"var-radio-cover":"",name:"radio-marked",size:e.iconSize},null,8,["class","size"])]):O(e.$slots,"unchecked-icon",{key:1},()=>[b(d,{class:u(e.classes(e.n("icon"),[e.withAnimation,e.n("--with-animation")])),"var-radio-cover":"",name:"radio-blank",size:e.iconSize},null,8,["class","size"])]),b(p,{hovering:!e.disabled&&!e.formDisabled&&e.hovering},null,8,["hovering"])],6)),[[f,{disabled:e.formReadonly||e.readonly||e.formDisabled||e.disabled||!e.ripple}],[y,e.handleHovering,"desktop"]]),G("div",{class:u(e.classes(e.n("text"),[e.errorMessage||e.radioGroupErrorMessage,e.n("--error")],[e.formDisabled||e.disabled,e.n("--disabled")]))},[O(e.$slots,"default")],2)],16),b(a,{"error-message":e.errorMessage},null,8,["error-message"])],2)}const be=K(ye,[["render",ke]]);H(be);export{be as R,me as a};
