import{v as N}from"./index-5db115f0.js";import{p as u,L as O}from"./index-e4fc01f7.js";import{p as v,d as b,u as U,a as P,e as S,f as R,c as G,b as h}from"./components-fe6f9a05.js";import{v as L}from"./index-cbe567d6.js";import{d as V,a as B,b as D,aw as E,_ as H,p as A,ag as T,D as K,f as C,h as Y,i as w,N as i,j as I,M as $,O as j,R as M}from"./vue-router.esm-bundler-2ca71151.js";function q(e){return["default","primary","info","success","warning","danger"].includes(e)}function F(e){return["normal","mini","small","large"].includes(e)}function J(e){return["button","reset","submit"].includes(e)}const Q={type:{type:String,validator:q},nativeType:{type:String,default:"button",validator:J},size:{type:String,validator:F},loading:{type:Boolean,default:!1},round:{type:Boolean,default:!1},block:{type:Boolean,default:!1},text:{type:Boolean,default:!1},outline:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},ripple:{type:Boolean,default:!0},color:{type:String},textColor:{type:String},autoLoading:{type:Boolean,default:!1},loadingRadius:{type:[Number,String]},loadingType:v(u,"type"),loadingSize:v(u,"size"),loadingColor:{...v(u,"color"),default:"currentColor"},onClick:b(),onTouchstart:b()},k=Symbol("BUTTON_GROUP_BIND_BUTTON_KEY"),z=Symbol("BUTTON_GROUP_COUNT_BUTTON_KEY");function se(){const{bindChildren:e,childProviders:o}=U(k),{length:t}=P(z);return{length:t,buttons:o,bindButtons:e}}function W(){const{bindParent:e,parentProvider:o}=S(k),{index:t}=R(z);return{index:t,buttonGroup:o,bindButtonGroup:e}}const{n:X,classes:Z}=G("button"),_=V({name:"VarButton",components:{VarLoading:O},directives:{Ripple:N,Hover:L},props:Q,setup(e){const o=B(!1),t=B(!1),{buttonGroup:r}=W(),f=D(()=>{if(!r)return{elevation:2,type:e.type!=null?e.type:"default",size:e.size!=null?e.size:"normal",color:e.color,text:e.text,textColor:e.textColor,outline:e.outline};const{type:n,size:l,color:s,textColor:a,mode:m}=r;return{elevation:0,type:e.type!=null?e.type:n.value,size:e.size!=null?e.size:l.value,color:e.color!=null?e.color:s.value,textColor:e.textColor!=null?e.textColor:a.value,text:m.value!=="normal",outline:m.value==="outline"}}),d=n=>{e.autoLoading&&(o.value=!0,n=E(n)?n:[n],Promise.all(n).then(()=>{o.value=!1}).catch(()=>{o.value=!1}))};return{n:X,classes:Z,pending:o,states:f,hovering:t,handleHover:n=>{t.value=n},handleClick:n=>{const{loading:l,disabled:s,onClick:a}=e;!a||l||s||o.value||d(h(a,n))},handleTouchstart:n=>{const{loading:l,disabled:s,onTouchstart:a}=e;!a||l||s||o.value||d(h(a,n))}}}});const x=["type","disabled"];function ee(e,o,t,r,f,d){const c=A("var-loading"),y=T("ripple"),g=T("hover");return K((C(),Y("button",{class:i(e.classes(e.n(),e.n("$--box"),e.n(`--${e.states.size}`),[e.block,`${e.n("$--flex")} ${e.n("--block")}`,e.n("$--inline-flex")],[e.disabled,e.n("--disabled")],[e.states.text,`${e.n(`--text-${e.states.type}`)} ${e.n("--text")}`,`${e.n(`--${e.states.type}`)} ${e.n(`$-elevation--${e.states.elevation}`)}`],[e.states.text&&e.disabled,e.n("--text-disabled")],[e.round,e.n("--round")],[e.states.outline,e.n("--outline")])),style:M({color:e.states.textColor,background:e.states.color}),type:e.nativeType,disabled:e.disabled,onClick:o[0]||(o[0]=(...n)=>e.handleClick&&e.handleClick(...n)),onTouchstart:o[1]||(o[1]=(...n)=>e.handleTouchstart&&e.handleTouchstart(...n))},[e.loading||e.pending?(C(),w(c,{key:0,class:i(e.n("loading")),"var-button-cover":"",color:e.loadingColor,type:e.loadingType,size:e.loadingSize,radius:e.loadingRadius},null,8,["class","color","type","size","radius"])):I("",!0),$("div",{class:i(e.classes(e.n("content"),[e.loading||e.pending,e.n("--hidden")]))},[j(e.$slots,"default")],2),$("div",{class:i(e.classes(e.n("overlay"),[e.hovering,e.n("--hovering")]))},null,2)],46,x)),[[y,{disabled:e.disabled||!e.ripple}],[g,e.handleHover,"desktop"]])}const p=H(_,[["render",ee]]);p.install=function(e){e.component(p.name,p)};export{p as B,se as u};
