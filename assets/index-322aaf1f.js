import{a as g,w as p,d as k,b as I,q as l,T as P,C as B,D as y,E as v,G as m,m as x}from"./vue-router-34f02d24.js";import{d as n,g as A,h as z,c as T,a as s,w as $}from"./logger-032ac2e3.js";import{u as j}from"./lock-84342b97.js";import{u as L}from"./zIndex-24c27d13.js";import{u as V}from"./provide-a50d0f70.js";/* empty css               */function N(e,i){const r=g(!1);return p(e,u=>{i===u&&(r.value=!0)},{immediate:!0}),r}function R(e){return["top","bottom","right","left","center"].includes(e)}const _={show:{type:Boolean,default:!1},position:{type:String,default:"center",validator:R},transition:{type:String},overlay:{type:Boolean,default:!0},overlayClass:{type:String},overlayStyle:{type:Object},lockScroll:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0},defaultStyle:{type:Boolean,default:!0},safeArea:{type:Boolean,default:!1},safeAreaTop:{type:Boolean,default:!1},teleport:{type:[String,Object,Boolean],default:"body"},onOpen:n(),onOpened:n(),onClose:n(),onClosed:n(),onClickOverlay:n(),"onUpdate:show":n(),onRouteChange:n()};function h(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!B(e)}const{n:o,classes:d}=T("popup"),D=k({name:"VarPopup",inheritAttrs:!1,props:_,setup(e,{slots:i,attrs:r}){const u=N(()=>e.show,!0),{zIndex:c}=L(()=>e.show,3),{disabled:w}=A(),{bindPopupItems:C}=V(),O=()=>{const{closeOnClickOverlay:t,onClickOverlay:a}=e;s(a),t&&s(e["onUpdate:show"],!1)},S=()=>{const{overlayClass:t="",overlayStyle:a}=e;return l("div",{class:d(o("overlay"),t),style:{zIndex:c.value-1,...a},onClick:O},null)},b=()=>y(l("div",x({class:d(o("content"),o(`--${e.position}`),[e.defaultStyle,o("--content-background-color")],[e.defaultStyle,o("$-elevation--3")],[e.safeArea,o("--safe-area")],[e.safeAreaTop,o("--safe-area-top")]),style:{zIndex:c.value}},r),[u.value&&s(i.default)]),[[v,e.show]]),f=()=>{let t;return l(m,{name:o("$-fade"),onAfterEnter:e.onOpened,onAfterLeave:e.onClosed},{default:()=>[y(l("div",{class:d(o("$--box"),o()),style:{zIndex:c.value-2}},[e.overlay&&S(),l(m,{name:e.transition||o(`$-pop-${e.position}`)},h(t=b())?t:{default:()=>[t]})]),[[v,e.show]])]})};return j(()=>e.show,()=>e.lockScroll),p(()=>e.show,t=>{t?s(e.onOpen):s(e.onClose)}),C({show:I(()=>e.show)}),z(()=>s(e.onRouteChange)),()=>{const{teleport:t}=e;if(t){let a;return l(P,{to:t,disabled:w.value},h(a=f())?a:{default:()=>[a]})}return f()}}});$(D);export{D as P,_ as p};
