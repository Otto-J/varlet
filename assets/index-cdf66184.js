import{F as W,u as q}from"./provide-bbeb7881.js";import{v as E}from"./index-a9719fda.js";import{v as I}from"./index-72804146.js";import{H as K,u as L}from"./index-85a5e829.js";import{d as b,h as j,a as v,c as G,w as J}from"./components-1514d07f.js";import{m as o}from"./elements-e4756970.js";import{d as Q,B as H,n as X,_ as Y,b as z,K as $,O as F,e as f,l as w,m as c,v as u,t as r,q as Z,p as N}from"./index-c1c53a77.js";const _={modelValue:{default:!1},activeValue:{default:!0},inactiveValue:{default:!1},disabled:Boolean,readonly:Boolean,loading:Boolean,color:String,loadingColor:String,closeColor:String,size:[String,Number],rules:Array,ripple:{type:Boolean,default:!0},onClick:b(),onChange:b(),"onUpdate:modelValue":b()},{n:x,classes:ee}=G("switch"),ae=Q({name:"VarSwitch",components:{VarFormDetails:W,VarHoverOverlay:K},directives:{Ripple:E,Hover:I},props:_,setup(e){const{bindForm:h,form:a}=q(),{errorMessage:n,validateWithTrigger:k,validate:S,resetValidation:m}=j(),{hovering:p,handleHovering:g}=L(),V=()=>S(e.rules,e.modelValue),y=()=>X(()=>k(["onChange"],"onChange",e.rules,e.modelValue)),A=H(()=>{const{size:l,modelValue:s,color:t,closeColor:d,loadingColor:C,activeValue:i}=e;return{handle:{width:o(l),height:o(l),backgroundColor:s===i?t:d,color:C},ripple:{left:s===i?o(l,.5):`-${o(l,.5)}`,color:s===i?t:d||"#999",width:o(l,2),height:o(l,2)},track:{height:o(l,.72),width:o(l,1.9),borderRadius:o(l,2/3),filter:s===i||n!=null&&n.value?void 0:"brightness(.6)",backgroundColor:s===i?t:d},switch:{height:o(l,1.2),width:o(l,2)}}}),O=H(()=>o(e.size,.8)),R=l=>{const{onClick:s,onChange:t,disabled:d,loading:C,readonly:i,modelValue:M,activeValue:B,inactiveValue:P,"onUpdate:modelValue":T}=e;if(v(s,l),d||C||i||a!=null&&a.disabled.value||a!=null&&a.readonly.value)return;const D=M===B?P:B;v(t,D),v(T,D),y()},U=l=>{e.disabled||a!=null&&a.disabled.value||g(l)};return v(h,{reset:()=>{v(e["onUpdate:modelValue"],e.inactiveValue),m()},validate:V,resetValidation:m}),{n:x,classes:ee,hovering:p,radius:O,styleComputed:A,errorMessage:n,formDisabled:a==null?void 0:a.disabled,formReadonly:a==null?void 0:a.readonly,multiplySizeUnit:o,switchActive:R,hover:U}}});const le=c("svg",{viewBox:"25 25 50 50"},[c("circle",{cx:"50",cy:"50",r:"20",fill:"none"})],-1),oe=[le];function se(e,h,a,n,k,S){const m=z("var-hover-overlay"),p=z("var-form-details"),g=$("ripple"),V=$("hover");return F((f(),w("div",{class:r(e.n())},[c("div",{class:r(e.classes(e.n("block"),[e.disabled||e.formDisabled,e.n("--disabled")])),onClick:h[0]||(h[0]=(...y)=>e.switchActive&&e.switchActive(...y)),style:u(e.styleComputed.switch)},[c("div",{style:u(e.styleComputed.track),class:r(e.classes(e.n("track"),[e.modelValue===e.activeValue,e.n("track--active")],[e.errorMessage,e.n("track--error")]))},null,6),F((f(),w("div",{class:r(e.classes(e.n("ripple"),[e.modelValue===e.activeValue,e.n("ripple--active")])),style:u(e.styleComputed.ripple)},[c("div",{style:u(e.styleComputed.handle),class:r(e.classes(e.n("handle"),e.n("$-elevation--2"),[e.modelValue===e.activeValue,e.n("handle--active")],[e.errorMessage,e.n("handle--error")]))},[e.loading?(f(),w("span",{key:0,class:r(e.n("loading")),style:u({width:e.radius,height:e.radius})},oe,6)):Z("",!0)],6),N(m,{hovering:e.hovering},null,8,["hovering"])],6)),[[g,{disabled:!e.ripple||e.disabled||e.loading||e.formDisabled}]])],6),N(p,{"error-message":e.errorMessage},null,8,["error-message"])],2)),[[V,e.hover,"desktop"]])}const ie=Y(ae,[["render",se]]);J(ie);export{ie as S};
