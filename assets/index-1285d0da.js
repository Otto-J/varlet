import{d as U,c as Y,b as F}from"./components-49559557.js";import{k as B,j as Z}from"./elements-4c784a6a.js";import{p as E}from"./shared-99660556.js";import{d as G,a as _,w as J,x as K,y as W,v as X,Z as z,_ as A,f as P,h as R,O as ee,P as d,Q as o,aL as te,aM as se,N as ae,ac as oe,aB as ne,q as a,S as u,ap as e,F as le,aC as x,M as $,al as ce,am as ue}from"./vue-router.esm-bundler-c0c92185.js";import{S as re}from"./index-d5518024.js";import{B as M}from"./index-3cb71702.js";import{R as ie}from"./index-5ad160c9.js";import{d as me}from"./index-59604d2c.js";import{u as de,c as pe,a as V,_ as fe,b as _e}from"./index-cc42749a.js";import"./index-b6a96f47.js";import"./index-c792e968.js";import"./zIndex-90dc747d.js";import"./index-67de6f11.js";import"./lock-5d7839e9.js";import"./index-e0ccf07b.js";/* empty css               */const Se={time:{type:[String,Number],default:0},format:{type:String,default:"HH : mm : ss"},autoStart:{type:Boolean,default:!0},onEnd:U(),onChange:U()},{n:ve}=Y("countdown"),N=1e3,b=60*N,D=60*b,I=24*D,he=G({name:"VarCountdown",props:Se,setup(s){const p=_(0),n=_(!1),y=_(""),w=_(0),v=_(0),l=_({days:0,hours:0,minutes:0,seconds:0,milliseconds:0});let c;const j=(t,g)=>{const r=Object.values(g),C=["DD","HH","mm","ss"],i=[24,60,60,1e3];if(C.forEach((f,h)=>{t.includes(f)?t=t.replace(f,E(`${r[h]}`,2,"0")):r[h+1]+=r[h]*i[h]}),t.includes("S")){const f=E(`${r[r.length-1]}`,3,"0");t.includes("SSS")?t=t.replace("SSS",f):t.includes("SS")?t=t.replace("SS",f.slice(0,2)):t=t.replace("S",f.slice(0,1))}return t},q=t=>{const g=Math.floor(t/I),r=Math.floor(t%I/D),C=Math.floor(t%D/b),i=Math.floor(t%b/N),f=Math.floor(t%N),h={days:g,hours:r,minutes:C,seconds:i,milliseconds:f};l.value=h,F(s.onChange,l.value),y.value=j(s.format,h)},k=()=>{const{time:t,onEnd:g,autoStart:r}=s,C=performance.now();p.value||(p.value=C+z(t));let i=p.value-C;if(i<0&&(i=0),v.value=i,q(i),i===0){F(g);return}(r||n.value)&&(w.value=Z(k))},Q=()=>{n.value||(n.value=!0,p.value=performance.now()+(v.value||z(s.time)),k())},T=()=>{n.value=!1,B(w.value)},H=()=>{p.value=0,n.value=!1,B(w.value),k()};return J(()=>s.time,H,{immediate:!0}),K(()=>{c!=null&&(n.value=c,n.value===!0&&k())}),W(()=>{c=n.value,T()}),X(T),{showTime:y,timeData:l,n:ve,start:Q,pause:T,reset:H}}});function we(s,p,n,y,w,v){return P(),R("div",{class:ae(s.n())},[ee(s.$slots,"default",te(se(s.timeData)),()=>[d(o(s.showTime),1)])],2)}const S=A(he,[["render",we]]);S.install=function(s){s.component(S.name,S)};const Ce={basicUsage:"基本使用",customFormat:"自定义格式",showMillisecond:"显示毫秒",customStyle:"自定义样式",manualControl:"手动控制",format:"DD 天 HH 时 mm 分 ss 秒",startText:"开始",pauseText:"暂停",resetText:"重置"},ye={basicUsage:"Basic Usage",customFormat:"Custom Format",showMillisecond:"Show Millisecond",customStyle:"Custom Style",manualControl:"Manual Control",format:"DD Day, HH:mm:ss",startText:"Start",pauseText:"Pause",resetText:"Reset"},{add:L,use:ge,pack:m,packs:Qe,merge:Ye}=de(),xe=s=>{pe(s),ge(s)};V("zh-CN",fe);V("en-US",_e);L("zh-CN",Ce);L("en-US",ye);const O=s=>(ce("data-v-41a60976"),s=s(),ue(),s),$e={class:"countdown-example-block"},ke=O(()=>$("span",{class:"countdown-example-colon"},":",-1)),Te={class:"countdown-example-block"},Me=O(()=>$("span",{class:"countdown-example-colon"},":",-1)),Ne={class:"countdown-example-block"},be={setup(s){const p=_(null),n=_(3e3);function y(){re.info("end!")}function w(){console.log("change")}return oe(xe),ne(me),(v,l)=>(P(),R(le,null,[a(e(x),null,{default:u(()=>[d(o(e(m).basicUsage),1)]),_:1}),a(e(S),{time:"108000000"}),a(e(x),null,{default:u(()=>[d(o(e(m).customFormat),1)]),_:1}),a(e(S),{time:"108000000",format:e(m).format},null,8,["format"]),a(e(x),null,{default:u(()=>[d(o(e(m).showMillisecond),1)]),_:1}),a(e(S),{time:"108000000",format:"HH : mm : ss : SS"}),a(e(x),null,{default:u(()=>[d(o(e(m).customStyle),1)]),_:1}),a(e(S),{time:"108000000"},{default:u(c=>[$("span",$e,o(c.hours),1),ke,$("span",Te,o(c.minutes),1),Me,$("span",Ne,o(c.seconds),1)]),_:1}),a(e(x),null,{default:u(()=>[d(o(e(m).manualControl),1)]),_:1}),a(e(S),{time:n.value,ref_key:"countdown",ref:p,"auto-start":!1,format:"ss : SSS",onEnd:y,onChange:w},null,8,["time"]),a(e(ie),{justify:"space-between",align:"center",style:{"margin-top":"10px"}},{default:u(()=>[a(e(M),{type:"primary",onClick:l[0]||(l[0]=c=>v.$refs.countdown.start())},{default:u(()=>[d(o(e(m).startText),1)]),_:1}),a(e(M),{onClick:l[1]||(l[1]=c=>v.$refs.countdown.pause())},{default:u(()=>[d(o(e(m).pauseText),1)]),_:1}),a(e(M),{onClick:l[2]||(l[2]=c=>v.$refs.countdown.reset())},{default:u(()=>[d(o(e(m).resetText),1)]),_:1})]),_:1})],64))}},Ze=A(be,[["__scopeId","data-v-41a60976"]]);export{Ze as default};
