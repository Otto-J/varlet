import{I as E}from"./index-3b8d7366.js";import{d as $,c as V,a as F}from"./components-06013557.js";import{d as I,a as p,b as P,aM as z,o as N,aI as f,_ as W,p as R,f as r,h as d,M as a,N as l,O as g,R as u,Q as B,j as b,i as T,F as j}from"./vue-router-bbc73976.js";function q(e){return["small","normal"].includes(e)}function L(e){return["outlined","standard"].includes(e)}const O={value:{type:null,required:!0},id:{type:String,default:""},isFocus:{type:Boolean},size:{type:String,default:"normal",validator:q},variant:{type:String,default:"standard",validator:L},placeholder:{type:String},line:{type:Boolean,default:!0},hint:{type:Boolean,default:!0},textColor:{type:String},focusColor:{type:String},blurColor:{type:String},errorMessage:{type:String},formDisabled:{type:Boolean},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},cursor:{type:String},composing:{type:Boolean,default:!1},alwaysCustomPlaceholder:{type:Boolean,default:!0},onClick:$(),onClear:$()},{n:C,classes:Q}=V("field-decorator"),Y=I({name:"VarFieldDecorator",components:{VarIcon:E},props:O,setup(e){const o=p(null),i=p(null),c=p(""),t=p(""),k=P(()=>e.errorMessage?void 0:e.isFocus?e.focusColor:e.blurColor),m=()=>{const{hint:n,value:s,isFocus:y,composing:v}=e;if(!n&&(!f(s)||v))return C("--placeholder-hidden");if(n&&(!f(s)||y))return C("--placeholder-hint")},h=n=>{F(e.onClear,n)},w=n=>{F(e.onClick,n)};return z(()=>{var S;const{hint:n,value:s,isFocus:y,variant:v}=e;if(o.value){if(n&&(!f(s)||y)){const M=((S=window.getComputedStyle(o.value))==null?void 0:S.width)||0,D=v==="outlined"?"-50%":0;t.value=`translate(-${M}, ${D}) scale(0.75)`;return}t.value=""}}),N(()=>{if(!i.value)return;const{width:n}=i.value.getBoundingClientRect(),s=window.getComputedStyle(i.value).getPropertyValue("--field-decorator-outlined-normal-placeholder-space");c.value=`calc(${n*.75}px + 2 * ${s})`}),{prependIconEl:o,placeholderEl:i,placeholderTransform:t,color:k,legendWidth:c,computePlaceholderState:m,n:C,classes:Q,isEmpty:f,handleClear:h,handleClick:w}}});const A=["for"];function G(e,o,i,c,t,k){const m=R("var-icon");return r(),d("div",{class:l(e.classes(e.n(),e.n("$--box"),e.n(`--${e.variant}`),[e.size==="small",e.n("--small")],[e.disabled,e.n("--disabled")])),onClick:o[0]||(o[0]=(...h)=>e.handleClick&&e.handleClick(...h))},[a("div",{class:l(e.classes(e.n("controller"),[e.isFocus,e.n("--focus")],[e.errorMessage,e.n("--error")],[e.formDisabled||e.disabled,e.n("--disabled")])),style:u({color:e.color,cursor:e.cursor})},[a("div",{class:l(e.classes(e.n("icon"),[!e.hint,e.n("--non-hint")])),ref:"prependIconEl"},[g(e.$slots,"prepend-icon")],2),a("div",{class:l(e.classes(e.n("wrap"),[!e.hint,e.n("--wrap-non-hint")]))},[g(e.$slots,"default"),e.hint||e.alwaysCustomPlaceholder?(r(),d("label",{key:0,class:l(e.classes(e.n("placeholder"),e.n("$--ellipsis"),[e.isFocus,e.n("--focus")],[e.formDisabled||e.disabled,e.n("--disabled")],[e.errorMessage,e.n("--error")],[!e.hint,e.n("--placeholder-non-hint")],e.computePlaceholderState())),style:u({transform:e.placeholderTransform,color:e.color}),for:e.id},[a("span",{ref:"placeholderEl"},B(e.placeholder),513)],14,A)):b("",!0)],2),a("div",{class:l(e.classes(e.n("icon"),[!e.hint,e.n("--non-hint")]))},[e.clearable&&!e.isEmpty(e.value)?(r(),T(m,{key:0,class:l(e.n("clear-icon")),"var-field-decorator-cover":"",name:"close-circle",onClick:e.handleClear},null,8,["class","onClick"])):b("",!0),g(e.$slots,"append-icon")],2)],6),e.line?(r(),d(j,{key:0},[e.variant==="outlined"?(r(),d("fieldset",{key:0,class:l(e.classes(e.n("line"),e.n("$--box"),[e.isFocus,e.n("--line-focus")],[e.errorMessage,e.n("--line-error")],[e.formDisabled||e.disabled,e.n("--line-disabled")]))},[a("legend",{class:l(e.classes(e.n("line-legend"),[e.hint&&(!e.isEmpty(e.value)||e.isFocus),e.n("line-legend--hint")])),style:u({width:e.legendWidth})},[a("span",{class:l(e.n("line-legend-placeholder"))},B(e.placeholder),3)],6)],2)):(r(),d("div",{key:1,class:l(e.classes(e.n("line"),[e.formDisabled||e.disabled,e.n("--line-disabled")],[e.errorMessage,e.n("--line-error")])),style:u({background:e.errorMessage?void 0:e.blurColor})},[a("div",{class:l(e.classes(e.n("dot"),[e.isFocus,e.n("--line-focus")],[e.formDisabled||e.disabled,e.n("--line-disabled")],[e.errorMessage,e.n("--line-error")])),style:u({background:e.errorMessage?void 0:e.focusColor})},null,6)],6))],64)):b("",!0)],2)}const U=W(Y,[["render",G]]);export{U as V,O as p};
