import{v as T}from"./index-16fe499b.js";import{p as r,L as h}from"./index-a0d22a73.js";import{p as d,d as y,u as C,a as $,e as z,f as N,c as k,b as g}from"./components-b625c737.js";import{d as O,a as U,b as P,at as S,_ as R,p as G,ag as L,D as V,f as v,h as E,i as D,N as u,j as A,M as K,O as Y,R as I}from"./vue-router.esm-bundler-882e3cdf.js";function w(e){return["default","primary","info","success","warning","danger"].includes(e)}function j(e){return["normal","mini","small","large"].includes(e)}function M(e){return["button","reset","submit"].includes(e)}const q={type:{type:String,validator:w},nativeType:{type:String,default:"button",validator:M},size:{type:String,validator:j},loading:{type:Boolean,default:!1},round:{type:Boolean,default:!1},block:{type:Boolean,default:!1},text:{type:Boolean,default:!1},outline:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},ripple:{type:Boolean,default:!0},color:{type:String},textColor:{type:String},autoLoading:{type:Boolean,default:!1},loadingRadius:{type:[Number,String]},loadingType:d(r,"type"),loadingSize:d(r,"size"),loadingColor:{...d(r,"color"),default:"currentColor"},onClick:y(),onTouchstart:y()},b=Symbol("BUTTON_GROUP_BIND_BUTTON_KEY"),m=Symbol("BUTTON_GROUP_COUNT_BUTTON_KEY");function ne(){const{bindChildren:e,childProviders:n}=C(b),{length:l}=$(m);return{length:l,buttons:n,bindButtons:e}}function F(){const{bindParent:e,parentProvider:n}=z(b),{index:l}=N(m);return{index:l,buttonGroup:n,bindButtonGroup:e}}const{n:H,classes:J}=k("button"),Q=O({name:"VarButton",components:{VarLoading:h},directives:{Ripple:T},props:q,setup(e){const n=U(!1),{buttonGroup:l}=F(),f=P(()=>{if(!l)return{elevation:2,type:e.type!=null?e.type:"default",size:e.size!=null?e.size:"normal",color:e.color,text:e.text,outline:e.outline};const{type:t,size:o,color:s,mode:a}=l;return{elevation:0,type:e.type!=null?e.type:t.value,size:e.size!=null?e.size:o.value,color:e.color!=null?e.color:s.value,text:a.value!=="normal",outline:a.value==="outline"}}),i=t=>{e.autoLoading&&(n.value=!0,t=S(t)?t:[t],Promise.all(t).then(()=>{n.value=!1}).catch(()=>{n.value=!1}))};return{n:H,classes:J,pending:n,states:f,handleClick:t=>{const{loading:o,disabled:s,onClick:a}=e;!a||o||s||n.value||i(g(a,t))},handleTouchstart:t=>{const{loading:o,disabled:s,onTouchstart:a}=e;!a||o||s||n.value||i(g(a,t))}}}});const W=["type","disabled"];function X(e,n,l,f,i,B){const c=G("var-loading"),t=L("ripple");return V((v(),E("button",{ref:"buttonEl",class:u(e.classes(e.n(),e.n("$--box"),e.n(`--${e.states.size}`),[e.block,`${e.n("$--flex")} ${e.n("--block")}`,e.n("$--inline-flex")],[e.disabled,e.n("--disabled")],[e.states.text,`${e.n(`--text-${e.states.type}`)} ${e.n("--text")}`,`${e.n(`--${e.states.type}`)} ${e.n(`$-elevation--${e.states.elevation}`)}`],[e.states.text&&e.disabled,e.n("--text-disabled")],[e.round,e.n("--round")],[e.states.outline,e.n("--outline")])),style:I({color:e.textColor,background:e.states.color}),type:e.nativeType,disabled:e.disabled,onClick:n[0]||(n[0]=(...o)=>e.handleClick&&e.handleClick(...o)),onTouchstart:n[1]||(n[1]=(...o)=>e.handleTouchstart&&e.handleTouchstart(...o))},[e.loading||e.pending?(v(),D(c,{key:0,class:u(e.n("loading")),"var-button-cover":"",color:e.loadingColor,type:e.loadingType,size:e.loadingSize,radius:e.loadingRadius},null,8,["class","color","type","size","radius"])):A("",!0),K("div",{class:u(e.classes(e.n("content"),[e.loading||e.pending,e.n("--hidden")]))},[Y(e.$slots,"default")],2)],46,W)),[[t,{disabled:e.disabled||!e.ripple}]])}const p=R(Q,[["render",X]]);p.install=function(e){e.component(p.name,p)};export{p as B,ne as u};
