import{I as D}from"./index-3b8d7366.js";import{d as k,c as w,a as S}from"./components-06013557.js";import{d as V,a as F,b as E,aM as I,aI as u,_ as z,p as P,f as o,h as r,M as a,N as l,O as c,R as t,Q as $,j as h,i as N,F as T}from"./vue-router-bbc73976.js";function j(e){return["small","normal"].includes(e)}function q(e){return["outlined","standard"].includes(e)}const L={value:{type:null,required:!0},id:{type:String,default:""},isFocus:{type:Boolean},size:{type:String,default:"normal",validator:j},variant:{type:String,default:"standard",validator:q},placeholder:{type:String},line:{type:Boolean,default:!0},hint:{type:Boolean,default:!0},textColor:{type:String},focusColor:{type:String},blurColor:{type:String},errorMessage:{type:String},formDisabled:{type:Boolean},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},cursor:{type:String},composing:{type:Boolean,default:!1},alwaysCustomPlaceholder:{type:Boolean,default:!0},onClick:k(),onClear:k()},{n:y,classes:O}=w("field-decorator"),Q=V({name:"VarFieldDecorator",components:{VarIcon:D},props:L,setup(e){const n=F(null),i=F(""),v=E(()=>e.errorMessage?void 0:e.isFocus?e.focusColor:e.blurColor),b=()=>{const{hint:s,value:d,isFocus:f,composing:m}=e;if(!s&&(!u(d)||m))return y("--placeholder-hidden");if(s&&(!u(d)||f))return y("--placeholder-hint")},g=s=>{S(e.onClear,s)},p=s=>{S(e.onClick,s)};return I(()=>{var C;const{hint:s,value:d,isFocus:f,variant:m}=e;if(n.value){if(s&&(!u(d)||f)){const B=((C=window.getComputedStyle(n.value))==null?void 0:C.width)||0,M=m==="outlined"?"-50%":0;i.value=`translate(-${B}, ${M}) scale(0.75)`;return}i.value=""}}),{prependIconEl:n,placeholderTransform:i,color:v,computePlaceholderState:b,n:y,classes:O,isEmpty:u,handleClear:g,handleClick:p}}});const R=["for"];function W(e,n,i,v,b,g){const p=P("var-icon");return o(),r("div",{class:l(e.classes(e.n(),e.n("$--box"),e.n(`--${e.variant}`),[e.size==="small",e.n("--small")],[e.disabled,e.n("--disabled")])),onClick:n[0]||(n[0]=(...s)=>e.handleClick&&e.handleClick(...s))},[a("div",{class:l(e.classes(e.n("controller"),[e.isFocus,e.n("--focus")],[e.errorMessage,e.n("--error")],[e.formDisabled||e.disabled,e.n("--disabled")])),style:t({color:e.color,cursor:e.cursor})},[a("div",{class:l(e.classes(e.n("icon"),[!e.hint,e.n("--non-hint")])),ref:"prependIconEl"},[c(e.$slots,"prepend-icon")],2),a("div",{class:l(e.classes(e.n("wrap"),[!e.hint,e.n("--wrap-non-hint")]))},[c(e.$slots,"default"),e.hint||e.alwaysCustomPlaceholder?(o(),r("label",{key:0,class:l(e.classes(e.n("placeholder"),e.n("$--ellipsis"),[e.isFocus,e.n("--focus")],[e.formDisabled||e.disabled,e.n("--disabled")],[e.errorMessage,e.n("--error")],[!e.hint,e.n("--placeholder-non-hint")],e.computePlaceholderState())),style:t({transform:e.placeholderTransform,color:e.color}),for:e.id},$(e.placeholder),15,R)):h("",!0)],2),a("div",{class:l(e.classes(e.n("icon"),[!e.hint,e.n("--non-hint")]))},[e.clearable&&!e.isEmpty(e.value)?(o(),N(p,{key:0,class:l(e.n("clear-icon")),"var-field-decorator-cover":"",name:"close-circle",onClick:e.handleClear},null,8,["class","onClick"])):h("",!0),c(e.$slots,"append-icon")],2)],6),e.line?(o(),r(T,{key:0},[e.variant==="outlined"?(o(),r("fieldset",{key:0,class:l(e.classes(e.n("line"),e.n("$--box"),[e.isFocus,e.n("--line-focus")],[e.errorMessage,e.n("--line-error")],[e.formDisabled||e.disabled,e.n("--line-disabled")]))},[a("legend",{class:l(e.classes(e.n("line-legend"),[e.hint&&(!e.isEmpty(e.value)||e.isFocus),e.n("line-legend--hint")]))},[a("span",{class:l(e.n("line-legend-placeholder"))},$(e.placeholder),3)],2)],2)):(o(),r("div",{key:1,class:l(e.classes(e.n("line"),[e.formDisabled||e.disabled,e.n("--line-disabled")],[e.errorMessage,e.n("--line-error")])),style:t({background:e.errorMessage?void 0:e.blurColor})},[a("div",{class:l(e.classes(e.n("dot"),[e.isFocus,e.n("--line-focus")],[e.formDisabled||e.disabled,e.n("--line-disabled")],[e.errorMessage,e.n("--line-error")])),style:t({background:e.errorMessage?void 0:e.focusColor})},null,6)],6))],64)):h("",!0)],2)}const H=z(Q,[["render",W]]);export{H as V,L as p};
